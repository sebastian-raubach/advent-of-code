(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[6784],{78519:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>h});var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Statistics")]),r("h2",[t._v("Input")]),r("p",[t._v("Paste your private leaderboard API JSON into this text area to see some stats.")]),r("b-form",{on:{submit:function(t){t.preventDefault()}}},[r("b-form-group",{attrs:{label:"JSON API input","label-for":"json",description:"The JSON API output of a leaderboard."}},[r("b-form-textarea",{attrs:{rows:"5",id:"json"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)],1),t.userTraces?[r("h2",[t._v("Points over time")]),r("div",{staticClass:"my-3",attrs:{id:"timeline-chart"}})]:t._e(),t.userTraces?[r("h2",[t._v("Points per day")]),r("div",{staticClass:"my-3",attrs:{id:"per-day-chart"}})]:t._e(),t.userRankingPerDay?[r("h2",[t._v("Ranking over time")]),r("div",{staticClass:"my-3",attrs:{id:"ranking-chart"}})]:t._e(),t.json?[r("h2",[t._v("Stats overview")]),r("p",[t._v("Hover over the stars to see the timestamps for part 1 and part 2 as well as the user's ranking for the day.")]),r("b-table",{attrs:{"table-class":"star-table mt-3",items:t.json,fields:t.fields,stacked:"sm","sort-by":"local_score","sort-desc":!0},scopedSlots:t._u([{key:"cell(days)",fn:function(e){return[t._l(t.tasks,(function(a){return[e.item.completion_day_level[a]&&e.item.completion_day_level[a][2]?r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.body.html",value:t.getTooltip(a,e.item.completion_day_level[a]),expression:"getTooltip(day, data.item.completion_day_level[day])",modifiers:{body:!0,html:!0}}],key:e.id+"-"+a,staticClass:"star star-gold"},[t._v("★")]):e.item.completion_day_level[a]&&e.item.completion_day_level[a][1]?r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.body.html",value:t.getTooltip(a,e.item.completion_day_level[a]),expression:"getTooltip(day, data.item.completion_day_level[day])",modifiers:{body:!0,html:!0}}],key:e.id+"-"+a,staticClass:"star star-silver"},[t._v("★")]):r("span",{key:e.id+"-"+a,staticClass:"star star-none"},[t._v("☆")])]}))]}}],null,!1,2878569974)})]:t._e()],2)},n=[],o=(r(21249),r(91038),r(78783),r(66992),r(41539),r(33948),r(2707),r(47941),r(68309),r(92222),r(82526),r(57327),r(38880),r(54747),r(49337),r(20629));function i(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function s(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?i(Object(r),!0).forEach((function(e){l(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}const c={data:function(){return{input:null,tasks:Array.from(Array(25).keys()).map((function(t){return t+1})),fields:[{key:"name",label:"Name",sortable:!0},{key:"local_score",label:"Score",sortable:!0},{key:"stars",label:"Stars",sortable:!0},{key:"days",label:"Days",class:"stars"}]}},computed:s(s({},(0,o.Se)(["darkMode"])),{},{json:function(){if(!this.input)return null;try{var t=JSON.parse(this.input);return Object.keys(t.members).map((function(e){return t.members[e]})).sort((function(t,e){return t.local_score-e.local_score}))}catch(e){return null}},userRankingPerDay:function(){var t=this;if(this.json){var e=this.tasks.map((function(e){var r=t.json.map((function(r,a){return t.userTraces[a]&&t.userTraces[a][e-1]&&t.userTraces[a][e-1].cumulative||0}));return r.sort((function(t,e){return t-e})),r}));return this.json.map((function(r,a){return t.tasks.map((function(r){var n=t.userTraces[a]&&t.userTraces[a][r-1]?t.userTraces[a][r-1].cumulative:null;return void 0!==n&&null!==n?e[r-1].lastIndexOf(n):null}))}))}return null},userTraces:function(){var t=this;return this.json?this.json.map((function(e){for(var r=0,a=[],n=0;n<t.tasks.length;n++)if(e.completion_day_level[n+1]){var o=e.completion_day_level[n+1][1]?+e.completion_day_level[n+1][1].get_star_ts:null,i=e.completion_day_level[n+1][2]?+e.completion_day_level[n+1][2].get_star_ts:null,s=0;if(o){var l=t.sortedUsersPerDay[n].partOne.indexOf(o);s+=t.json.length-l}if(i){var c=t.sortedUsersPerDay[n].partTwo.indexOf(i);s+=t.json.length-c}r+=s,(o||i)&&a.push({cumulative:r,individual:s})}else a.push(null);return a})):null},sortedUsersPerDay:function(){var t=this;return this.json?this.tasks.map((function(e){var r=t.json.map((function(t){return t.completion_day_level[e]&&t.completion_day_level[e][1]?+t.completion_day_level[e][1].get_star_ts:null})),a=t.json.map((function(t){return t.completion_day_level[e]&&t.completion_day_level[e][2]?+t.completion_day_level[e][2].get_star_ts:null}));return r.sort(),a.sort(),{partOne:r,partTwo:a}})):null}}),watch:{darkMode:function(){var t=this;this.$nextTick((function(){t.updatePointChart(),t.updatePointPerDayChart(),t.updateRankingChart()}))},userTraces:function(){var t=this;this.$nextTick((function(){t.updatePointChart(),t.updatePointPerDayChart()}))},userRankingPerDay:function(){var t=this;this.$nextTick((function(){return t.updateRankingChart()}))}},methods:{updateRankingChart:function(){var t=this;this.$plotly.purge("ranking-chart");var e=this.userRankingPerDay.map((function(e,r){return{x:e.map((function(t,e){return e+1})),y:e,name:t.json[r].name,mode:"lines+markers",marker:{size:10},line:{width:3}}}));this.$plotly.newPlot("ranking-chart",e,{height:Math.max(250,30*this.userTraces.length+50),margin:{t:10,b:20,l:50,r:0},paper_bgcolor:"transparent",plot_bgcolor:"transparent",xaxis:{tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee"},yaxis:{title:{text:"Ranking",font:{color:this.darkMode?"white":"black"}},tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee",tickmode:"array",tickvals:Array.from(Array(this.json.length).keys()),ticktext:Array.from(Array(this.json.length).keys()).map((function(e){return t.json.length-e}))},legend:{bgcolor:"rgba(0,0,0,0)",orientation:"h",traceorder:"reversed",font:{color:this.darkMode?"white":"black"}}},{responsive:!0,displaylogo:!1})},updatePointChart:function(){var t=this;this.$plotly.purge("timeline-chart");var e=this.userTraces.map((function(e,r){return{x:e.map((function(t,e){return e+1})),y:e.map((function(t){return t?t.cumulative:null})),name:t.json[r].name,mode:"lines+markers"}}));this.$plotly.newPlot("timeline-chart",e,{height:Math.max(250,15*this.userTraces.length+50),margin:{t:10,b:20,l:50,r:0},paper_bgcolor:"transparent",plot_bgcolor:"transparent",xaxis:{tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee"},yaxis:{title:{text:"Points",font:{color:this.darkMode?"white":"black"}},tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee"},legend:{bgcolor:"rgba(0,0,0,0)",orientation:"h",traceorder:"reversed",font:{color:this.darkMode?"white":"black"}}},{responsive:!0,displaylogo:!1})},updatePointPerDayChart:function(){var t=this;this.$plotly.purge("per-day-chart");var e=this.userTraces.map((function(e,r){return{x:e.map((function(t,e){return e+1})),y:e.map((function(t){return t?t.individual:null})),name:t.json[r].name,mode:"lines+markers"}}));this.$plotly.newPlot("per-day-chart",e,{height:Math.max(250,10*this.userTraces.length+50),margin:{t:10,b:20,l:50,r:0},paper_bgcolor:"transparent",plot_bgcolor:"transparent",xaxis:{tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee"},yaxis:{title:{text:"Points",font:{color:this.darkMode?"white":"black"}},tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee"},legend:{bgcolor:"rgba(0,0,0,0)",orientation:"h",traceorder:"reversed",font:{color:this.darkMode?"white":"black"}}},{responsive:!0,displaylogo:!1})},getTooltip:function(t,e){var r="<p>Day ".concat(t,"</p>");return e[1]&&e[1].get_star_ts&&(r+="<p>Part 1: ".concat(new Date(1e3*+e[1].get_star_ts).toLocaleString()," Position: ").concat(this.sortedUsersPerDay[t-1].partOne.indexOf(+e[1].get_star_ts)+1,"</p>")),e[2]&&e[2].get_star_ts&&(r+="<p>Part 2: ".concat(new Date(1e3*+e[2].get_star_ts).toLocaleString()," Position: ").concat(this.sortedUsersPerDay[t-1].partTwo.indexOf(+e[2].get_star_ts)+1,"</p>")),r}}},u=c;var d=r(1001),p=(0,d.Z)(u,a,n,!1,null,null,null);const h=p.exports},48457:(t,e,r)=>{"use strict";var a=r(17854),n=r(49974),o=r(46916),i=r(47908),s=r(53411),l=r(97659),c=r(4411),u=r(26244),d=r(86135),p=r(18554),h=r(71246),m=a.Array;t.exports=function(t){var e=i(t),r=c(this),a=arguments.length,f=a>1?arguments[1]:void 0,v=void 0!==f;v&&(f=n(f,a>2?arguments[2]:void 0));var y,_,g,k,b,P,w=h(e),x=0;if(!w||this==m&&l(w))for(y=u(e),_=r?new this(y):m(y);y>x;x++)P=v?f(e[x],x):e[x],d(_,x,P);else for(k=p(e,w),b=k.next,_=r?new this:[];!(g=o(b,k)).done;x++)P=v?s(k,f,[g.value,x],!0):g.value,d(_,x,P);return _.length=x,_}},53411:(t,e,r)=>{var a=r(19670),n=r(99212);t.exports=function(t,e,r,o){try{return o?e(a(r)[0],r[1]):e(r)}catch(i){n(t,"throw",i)}}},91038:(t,e,r)=>{var a=r(82109),n=r(48457),o=r(17072),i=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:i},{from:n})},21249:(t,e,r)=>{"use strict";var a=r(82109),n=r(42092).map,o=r(81194),i=o("map");a({target:"Array",proto:!0,forced:!i},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},68309:(t,e,r)=>{var a=r(19781),n=r(76530).EXISTS,o=r(1702),i=r(3070).f,s=Function.prototype,l=o(s.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=o(c.exec),d="name";a&&!n&&i(s,d,{configurable:!0,get:function(){try{return u(c,l(this))[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=stats.b02a6195.js.map