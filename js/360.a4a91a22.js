"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[360],{27540:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Day",{attrs:{day:22,year:2018,solutions:t.solutions},on:{"input-changed":t.onInputChanged},scopedSlots:t._u([{key:"partOne",fn:function(){return[i("pre",{staticClass:"day-22-code border"},[i("code",{domProps:{innerHTML:t._s(t.gridOne)}}),t._v("\n      ")])]},proxy:!0},{key:"partTwo",fn:function(){return[i("pre",{staticClass:"day-22-code border"},[i("code",{domProps:{innerHTML:t._s(t.gridTwo)}}),t._v("\n      ")])]},proxy:!0}])})},n=[],r=i(86889);const o=".",a="=",l="|",h=0,d=1,p=2,u=3;var g={components:{Day:r.Z},data:function(){return{solutions:{partOne:null,partTwo:null},gridOne:null,risk:{".":0,"=":1,"|":2},types:[o,a,l],directions:[[1,0],[0,1],[-1,0],[0,-1]],validGear:{".":[d,h,u],"=":[d,p],"|":[h,p]}}},methods:{onInputChanged:function(t){this.depth=+t[0].split(" ")[1],this.target=t[1].split(" ")[1].split(",").map((t=>+t)),this.solvePartOne(),this.solvePartTwo()},getGeoIndex:function(t,e,i){return 0===e&&0===i||e===this.target[0]&&i===this.target[1]?0:0===i?16807*e:0===e?48271*i:t[i][e-1].erosionLevel*t[i-1][e].erosionLevel},solvePartOne:function(){this.grid=[];const t=3;for(let e=0;e<=this.target[1]+50;e++){this.grid.push(Array.from(Array(this.target[0]*t+1).keys()).map((t=>({geoIndex:null,erosionLevel:null,type:null}))));for(let i=0;i<=this.target[0]*t;i++)this.grid[e][i].geoIndex=this.getGeoIndex(this.grid,i,e),this.grid[e][i].erosionLevel=(this.grid[e][i].geoIndex+this.depth)%20183,this.grid[e][i].type=this.types[this.grid[e][i].erosionLevel%3]}this.gridOne=this.print(this.grid.map((t=>t.map((t=>t.type))))),this.solutions.partOne=this.grid.slice(0,this.target[1]+1).map((t=>t.slice(0,this.target[0]+1).map((t=>this.risk[t.type])).reduce(((t,e)=>t+e)))).reduce(((t,e)=>t+e))},solvePartTwo:function(){const t={tool:h,x:0,y:0,type:o,time:0,path:[]},e=[t],i=new Map;i.set(`${t.x},${t.y},${t.tool}`,0);while(1){e.sort(((t,e)=>t.time-e.time));const t=e.shift();if(t.x===this.target[0]&&t.y===this.target[1])return this.gridTwo=this.print(this.grid.map((t=>t.map((t=>t.type)))),t.path),void(this.solutions.partTwo=t.time);this.directions.forEach((s=>{const n=JSON.parse(JSON.stringify(t));if(n.x+=s[0],n.y+=s[1],n.y<0||n.x<0||n.y>=this.grid.length||n.x>=this.grid[n.y].length)return;n.type=this.grid[n.y][n.x].type,this.adjustConfig(t,n);const r=i.get(`${n.x},${n.y},${n.tool}`);void 0!==r&&r<=n.time||(n.x===this.target[0]&&n.y===this.target[1]&&n.tool!==h&&(n.time+=7),n.path.push({x:n.x,y:n.y}),e.push(n),i.set(`${n.x},${n.y},${n.tool}`,n.time))}))}},adjustConfig:function(t,e){if(t.type===e.type)e.time++;else{const i=this.validGear[t.type].filter((t=>this.validGear[e.type].includes(t)));e.time+=i[0]!==t.tool?8:1,e.tool=i[0]}},print:function(t,e){const i=new Set;e&&e.forEach((t=>i.add(`${t.x},${t.y}`)));let s="";for(let n=0;n<t.length;n++){for(let e=0;e<t[n].length;e++){let r=null;i.has(`${e},${n}`)?r="day-22-path":t[n][e]===a?r="day-22-wet":t[n][e]===l&&(r="day-22-narrow"),s+=r?`<span class="${r}">${t[n][e]}</span>`:t[n][e]}s+="<br/>"}return s}}},c=g,y=i(1001),f=(0,y.Z)(c,s,n,!1,null,null,null),m=f.exports}}]);
//# sourceMappingURL=360.a4a91a22.js.map