"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[6078],{49837:function(t,i,s){s.r(i),s.d(i,{default:function(){return l}});var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("Day",{attrs:{day:10,year:2023,solutions:t.solutions},on:{"input-changed":t.onInputChanged},scopedSlots:t._u([{key:"partOne",fn:function(){return[s("div",{staticClass:"canvas-holder"},[s("canvas",{staticClass:"canvas",attrs:{id:"partOne",width:"1000",height:"1000"}})])]},proxy:!0}])})},h=[],n=s(86889),c=s(47695),r={components:{Day:n.Z},data:function(){return{solutions:{partOne:null,partTwo:null},pathIndex:0,pipes:{L:{connects:(t,i)=>t.x===i.x&&t.y===i.y-1||t.y===i.y&&t.x===i.x+1},J:{connects:(t,i)=>t.x===i.x&&t.y===i.y-1||t.y===i.y&&t.x===i.x-1},7:{connects:(t,i)=>t.x===i.x&&t.y===i.y+1||t.y===i.y&&t.x===i.x-1},F:{connects:(t,i)=>t.x===i.x&&t.y===i.y+1||t.y===i.y&&t.x===i.x+1},"|":{connects:(t,i)=>t.x===i.x&&t.y===i.y-1||t.x===i.x&&t.y===i.y+1},"-":{connects:(t,i)=>t.y===i.y&&t.x===i.x-1||t.y===i.y&&t.x===i.x+1},S:{connects:(t,i)=>!0}},dirs:[[-1,0],[1,0],[0,-1],[0,1]]}},methods:{onInputChanged:function(t){this.grid=t.map((t=>t.split("")));let i={x:0,y:0};t.forEach(((t,s)=>{const e=t.indexOf("S");-1!==e&&(i={x:e,y:s})}));const s=[],e=new Set;let h=i;while(1){s.push(h),e.add(`${h.x},${h.y}`);const t=this.grid[h.y][h.x],n=this.getNeighbors(h),c=n.filter((s=>{const n=this.grid[s.y][s.x];return!e.has(`${s.x},${s.y}`)&&(s.x===i.x&&s.y===i.y||"."!==n&&(this.pipes[n].connects(h,s)&&this.pipes[t].connects(s,h)))}));if(!(c.length>0))break;h=c[0]}this.fixStart(s),this.solutions.partOne=Math.floor(s.length/2);const n=this.findEnclosed(s);this.solutions.partTwo=n.length,this.$nextTick((()=>this.draw(i,s,n)))},fixStart:function(t){const i=t[0],s=t[1],e=t[t.length-1];e.x===i.x&&i.x===s.x?this.grid[i.y][i.x]="|":e.y===i.y&&i.y===s.y?this.grid[i.y][i.x]="-":e.x===i.x+1&&s.y===i.y+1||s.x===i.x+1&&e.y===i.y+1?this.grid[i.y][i.x]="F":e.x===i.x-1&&s.y===i.y+1||s.x===i.x-1&&e.y===i.y+1?this.grid[i.y][i.x]="7":e.x===i.x+1&&s.y===i.y-1||s.x===i.x+1&&e.y===i.y-1?this.grid[i.y][i.x]="L":(e.x===i.x-1&&s.y===i.y-1||s.x===i.x-1&&e.y===i.y-1)&&(this.grid[i.y][i.x]="J")},findEnclosed:function(t){const i=new Map;t.forEach(((t,s)=>{i.set(`${t.x}|${t.y}`,s)}));const s=[];for(let e=0;e<this.grid.length;e++)for(let t=0;t<this.grid[e].length;t++)if(!i.has(`${t}|${e}`)){let h=!1,n=t;while(n>=0){const t=i.get(`${n}|${e}`),s=this.grid[e][n];void 0===t||"|"!==s&&"F"!==s&&"7"!==s||(h=!h),n--}h&&s.push({x:t,y:e})}return s},draw:function(t,i,s){this.pathIndex=0,this.enclosedIndex=0,this.gradient=(0,c.fb)(c.dZ,Math.ceil(i.length/2)),this.canvas=document.getElementById("partOne"),this.ctx=this.canvas.getContext("2d"),this.factor=7,this.canvas.width=this.grid[0].length*this.factor,this.canvas.height=this.grid.length*this.factor,this.ctx.fillStyle="#222222",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height),this.ctx.lineWidth=this.factor/4;for(let e=0;e<this.grid.length;e++)for(let i=0;i<this.grid[e].length;i++){let s=this.grid[e][i];e===t.y&&i===t.x&&(s="S"),this.ctx.strokeStyle="#34495e",this.ctx.fillStyle="#34495e",this.drawPipe(i,e,s)}window.requestAnimationFrame((()=>this.drawPath(i,s)))},drawPath:function(t,i){const s=this.pathIndex,e=t[s],h=this.grid[e.y][e.x],n=t[t.length-s-1],c=this.grid[n.y][n.x];if((e.x===n.x&&e.y)===n.y||s===Math.floor(t.length/2))this.ctx.fillStyle="#e74c3c",this.ctx.strokeStyle="#e74c3c";else{const t=this.gradient[s];this.ctx.strokeStyle=t,this.ctx.fillStyle=t}if(this.drawPipe(e.x,e.y,h),this.drawPipe(n.x,n.y,c),s<t.length/2)this.pathIndex++,window.requestAnimationFrame((()=>this.drawPath(t,i)));else{const t=i.concat().sort(((t,i)=>Math.sign(t.x+t.y-(i.x+i.y))));window.requestAnimationFrame((()=>this.drawEnclosed(t)))}},drawEnclosed:function(t){this.ctx.strokeStyle="#25CCF7",this.ctx.fillStyle="#25CCF7";const i=t[this.enclosedIndex];this.drawPipe(i.x,i.y,this.grid[i.y][i.x]),this.enclosedIndex<t.length-1&&(this.enclosedIndex++,window.requestAnimationFrame((()=>this.drawEnclosed(t))))},drawPipe:function(t,i,s){switch(s){case"F":this.ctx.beginPath(),this.ctx.arc((t+1)*this.factor,(i+1)*this.factor,this.factor/2,Math.PI,1.5*Math.PI),this.ctx.stroke();break;case"J":this.ctx.beginPath(),this.ctx.arc(t*this.factor,i*this.factor,this.factor/2,0,.5*Math.PI),this.ctx.stroke();break;case"7":this.ctx.beginPath(),this.ctx.arc(t*this.factor,(i+1)*this.factor,this.factor/2,1.5*Math.PI,0),this.ctx.stroke();break;case"L":this.ctx.beginPath(),this.ctx.arc((t+1)*this.factor,i*this.factor,this.factor/2,.5*Math.PI,Math.PI),this.ctx.stroke();break;case"|":this.ctx.beginPath(),this.ctx.moveTo(t*this.factor+this.factor/2,i*this.factor),this.ctx.lineTo(t*this.factor+this.factor/2,(i+1)*this.factor),this.ctx.stroke();break;case"-":this.ctx.beginPath(),this.ctx.moveTo(t*this.factor,i*this.factor+this.factor/2),this.ctx.lineTo((t+1)*this.factor,i*this.factor+this.factor/2),this.ctx.stroke();break;case".":this.ctx.beginPath(),this.ctx.arc(t*this.factor+this.factor/2,i*this.factor+this.factor/2,this.factor/4,0,2*Math.PI),this.ctx.fill();break;case"S":this.ctx.fillStyle="#e74c3c",this.ctx.fillRect(t*this.factor,i*this.factor,this.factor,this.factor);break}},getNeighbors:function(t){return this.dirs.map((i=>({x:t.x+i[0],y:t.y+i[1]}))).filter((t=>t.x>=0&&t.x<this.grid[0].length&&t.y>=0&&t.y<this.grid.length))}}},a=r,o=s(1001),x=(0,o.Z)(a,e,h,!1,null,null,null),l=x.exports},47695:function(t,i,s){s.d(i,{dZ:function(){return e},fb:function(){return r},wH:function(){return c}});const e=["#440154","#48186a","#472d7b","#424086","#3b528b","#33638d","#2c728e","#26828e","#21918c","#1fa088","#28ae80","#3fbc73","#5ec962","#84d44b","#addc30","#d8e219","#fde725"],h=t=>{const i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},n=(t,i,s)=>"#"+((1<<24)+(t<<16)+(i<<8)+s).toString(16).slice(1),c=(t,i,s)=>{const e=h(t),c=h(i);if(s<2)return[t];const r=[];for(let h=0;h<s;h++){const t=h/(s-1);r.push(n(Math.floor(e.r+t*(c.r-e.r)),Math.floor(e.g+t*(c.g-e.g)),Math.floor(e.b+t*(c.b-e.b))))}return r},r=(t,i)=>{if(t.length>i)return t.slice(0,i);const s=t.length-1;let e=[];for(let h=0;h<s-1;h++)e=e.concat(c(t[h],t[h+1],Math.max(1,Math.floor(i/s))));while(e.length<i)e.push(t[t.length-1]);return e}}}]);
//# sourceMappingURL=6078.46349e22.js.map