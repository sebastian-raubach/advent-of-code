(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[6134],{7436:function(t,e,r){const{MinHeap:i}=r(78573),{MaxHeap:s}=r(38945),{CustomHeap:n}=r(14295);e.MinHeap=i,e.MaxHeap=s,e.CustomHeap=n},14295:function(t,e,r){
/**
 * @license MIT
 * @copyright 2020 Eyas Ranjous <eyas.ranjous@gmail.com>
 */
const{Heap:i}=r(42613);class s extends i{constructor(t,e,r){if("function"!==typeof t)throw new Error("CustomHeap expects a comparator function");super(e,r),this._comparator=t}_compare(t,e){return this._comparator(t,e)<=0}_compareChildrenBefore(t,e,r){const i=this._comparator(this._nodes[r],this._nodes[e]);return i<=0&&r<t?r:e}clone(){return new s(this._comparator,this._nodes.slice(),this._leaf)}static heapify(t,e){if(!Array.isArray(t))throw new Error(".heapify expects an array");if("function"!==typeof e)throw new Error(".heapify expects a comparator function");return new s(e,t).fix()}static isHeapified(t,e){if(!Array.isArray(t))throw new Error(".heapify expects an array");if("function"!==typeof e)throw new Error(".isHeapified expects a comparator function");return new s(e,t).isValid()}}e.CustomHeap=s},42613:function(t,e){
/**
 * @license MIT
 * @copyright 2020 Eyas Ranjous <eyas.ranjous@gmail.com>
 *
 * @class
 * @abstract
 */
class r{constructor(t,e){this._nodes=Array.isArray(t)?t:[],this._leaf=e||null}_hasLeftChild(t){const e=2*t+1;return e<this.size()}_hasRightChild(t){const e=2*t+2;return e<this.size()}_getKey(t){return"object"===typeof t?t.key:t}_swap(t,e){const r=this._nodes[t];this._nodes[t]=this._nodes[e],this._nodes[e]=r}_compare(t,e){return this._compareKeys(this._getKey(t),this._getKey(e))}_shouldSwap(t,e){return!(t<0||t>=this.size())&&(!(e<0||e>=this.size())&&!this._compare(this._nodes[t],this._nodes[e]))}heapifyUp(t){let e=t,r=Math.floor((e-1)/2);while(this._shouldSwap(r,e))this._swap(r,e),e=r,r=Math.floor((e-1)/2)}_compareChildrenOf(t){if(!this._hasLeftChild(t)&&!this._hasRightChild(t))return-1;const e=2*t+1,r=2*t+2;if(!this._hasLeftChild(t))return r;if(!this._hasRightChild(t))return e;const i=this._compare(this._nodes[e],this._nodes[r]);return i?e:r}_heapifyDown(t){let e=t,r=this._compareChildrenOf(e);while(this._shouldSwap(e,r))this._swap(e,r),e=r,r=this._compareChildrenOf(e)}extractRoot(){if(this.isEmpty())return null;const t=this.root();return this._nodes[0]=this._nodes[this.size()-1],this._nodes.pop(),this._heapifyDown(0),t===this._leaf&&(this._leaf=this.root()),t}_heapifyDownUntil(t){let e,r=0,i=1,s=2;while(i<t)e=this._compareChildrenBefore(t,i,s),this._shouldSwap(r,e)&&this._swap(r,e),r=e,i=2*r+1,s=2*r+2}_clone(t){return new t(this._nodes.slice(),this._leaf)}sort(){for(let t=this.size()-1;t>0;t-=1)this._swap(0,t),this._heapifyDownUntil(t);return this._nodes}insert(t,e){const r=void 0!==e?{key:t,value:e}:t;return this._nodes.push(r),this.heapifyUp(this.size()-1),null!==this._leaf&&this._compare(r,this._leaf)||(this._leaf=r),this}fix(){for(let t=0;t<this.size();t+=1)this.heapifyUp(t);return this}isValid(){const t=e=>{let r=!0,i=!0;if(this._hasLeftChild(e)){const i=2*e+1;if(r=this._compare(this._nodes[e],this._nodes[i]),!r)return!1;r=t(i)}if(this._hasRightChild(e)){const r=2*e+2;if(i=this._compare(this._nodes[e],this._nodes[r]),!i)return!1;i=t(r)}return r&&i};return t(0)}root(){return this.isEmpty()?null:this._nodes[0]}leaf(){return this._leaf}size(){return this._nodes.length}isEmpty(){return 0===this.size()}clear(){this._nodes=[],this._leaf=null}static _heapify(t,e){if(!Array.isArray(t))throw new Error(".heapify expects an array");return new e(t).fix()}static _isHeapified(t,e){return new e(t).isValid()}}e.Heap=r},38945:function(t,e,r){
/**
 * @license MIT
 * @copyright 2020 Eyas Ranjous <eyas.ranjous@gmail.com>
 */
const{Heap:i}=r(42613);class s extends i{_compareKeys(t,e){return t>e}_compareChildrenBefore(t,e,r){const i=this._getKey(this._nodes[e]),s=this._getKey(this._nodes[r]);return s>i&&r<t?r:e}clone(){return super._clone(s)}static heapify(t){return super._heapify(t,s)}static isHeapified(t){return super._isHeapified(t,s)}}e.MaxHeap=s},78573:function(t,e,r){
/**
 * @license MIT
 * @copyright 2019 Eyas Ranjous <eyas.ranjous@gmail.com>
 */
const{Heap:i}=r(42613);class s extends i{_compareKeys(t,e){return t<e}_compareChildrenBefore(t,e,r){const i=this._getKey(this._nodes[e]),s=this._getKey(this._nodes[r]);return s<i&&r<t?r:e}clone(){return super._clone(s)}static heapify(t){return super._heapify(t,s)}static isHeapified(t){return super._isHeapified(t,s)}}e.MinHeap=s},54082:function(t,e,r){const{MinPriorityQueue:i}=r(38192),{MaxPriorityQueue:s}=r(28387),{PriorityQueue:n}=r(25515);t.exports={MinPriorityQueue:i,MaxPriorityQueue:s,PriorityQueue:n}},28387:function(t,e,r){
/**
 * @copyright 2020 Eyas Ranjous <eyas.ranjous@gmail.com>
 * @license MIT
 */
const{MaxHeap:i}=r(7436),{PriorityQueue:s}=r(25515);class n extends s{constructor(t){super(t),this._compare||(this._heap=new i)}}e.MaxPriorityQueue=n},38192:function(t,e,r){
/**
 * @copyright 2020 Eyas Ranjous <eyas.ranjous@gmail.com>
 * @license MIT
 */
const{MinHeap:i}=r(7436),{PriorityQueue:s}=r(25515);class n extends s{constructor(t){super(t),this._compare||(this._heap=new i)}}e.MinPriorityQueue=n},25515:function(t,e,r){
/**
 * @copyright 2020 Eyas Ranjous <eyas.ranjous@gmail.com>
 * @license MIT
 */
const{CustomHeap:i}=r(7436);class s{constructor(t={}){const{priority:e,compare:r}=t;if(r){if("function"!==typeof r)throw new Error(".constructor expects a valid compare function");this._compare=r,this._heap=new i(this._compare)}else{if(void 0!==e&&"function"!==typeof e)throw new Error(".constructor expects a valid priority function");this._priority=e||(t=>+t)}}_getElementWithPriority(t){return{priority:t.key,element:t.value}}size(){return this._heap.size()}isEmpty(){return this._heap.isEmpty()}front(){return this.isEmpty()?null:this._compare?this._heap.root():this._getElementWithPriority(this._heap.root())}back(){return this.isEmpty()?null:this._compare?this._heap.leaf():this._getElementWithPriority(this._heap.leaf())}enqueue(t,e){if(this._compare)return this._heap.insert(t),this;if(e&&Number.isNaN(+e))throw new Error(".enqueue expects a numeric priority");if(Number.isNaN(+e)&&Number.isNaN(this._priority(t)))throw new Error(".enqueue expects a numeric priority or a constructor callback that returns a number");const r=Number.isNaN(+e)?this._priority(t):e;return this._heap.insert(+r,t),this}dequeue(){return this.isEmpty()?null:this._compare?this._heap.extractRoot():this._getElementWithPriority(this._heap.extractRoot())}toArray(){return this._compare?this._heap.clone().sort().reverse():this._heap.clone().sort().map((t=>this._getElementWithPriority(t))).reverse()}clear(){this._heap.clear()}}e.PriorityQueue=s},50199:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return p}});var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Day",{attrs:{day:15,year:2021,solutions:t.solutions},on:{"input-changed":t.onInputChanged},scopedSlots:t._u([{key:"partOne",fn:function(){return[r("div",{staticClass:"canvas-holder-one"},[r("canvas",{ref:"partOne",staticClass:"canvas",attrs:{width:"202",height:"100"}})])]},proxy:!0},{key:"partTwo",fn:function(){return[r("div",{staticClass:"canvas-holder-two"},[r("canvas",{ref:"partTwo",staticClass:"canvas",attrs:{width:"1002",height:"500"}})])]},proxy:!0}])})},s=[],n=r(86889),o=r(47695);const{PriorityQueue:a}=r(54082);var h={components:{Day:n.Z},data:function(){return{solutions:{partOne:null,partTwo:null},neighbors:[[1,0],[0,1],[-1,0],[0,-1]],gridOne:null}},methods:{onInputChanged:function(t){const e=this.parseInput(t,1);this.solutions.partOne=this.dijkstra(e,t[0].length-1,t.length-1),this.$nextTick((()=>this.print(this.$refs.partOne,e,this.getNodesOnPath(e,`${t[0].length-1},${t.length-1}`),t[0].length-1,t.length-1)));const r=this.parseInput(t,5);this.solutions.partTwo=this.dijkstra(r,5*t[0].length-1,5*t.length-1),this.$nextTick((()=>this.print(this.$refs.partTwo,r,this.getNodesOnPath(r,`${5*t[0].length-1},${5*t.length-1}`),5*t[0].length-1,5*t.length-1)))},parseInput:function(t,e){const r=new Map,i=t[0].length,s=t.length,n=t.map((t=>t.split("").map((t=>+t))));for(let o=0;o<s*e;o++)for(let t=0;t<i*e;t++){const a=`${t},${o}`,h=this.neighbors.filter((r=>t+r[0]>=0&&t+r[0]<i*e&&o+r[1]>=0&&o+r[1]<s*e));let c=+n[o%n.length][t%n[0].length]+Math.floor(o/s)+Math.floor(t/i);c>9&&(c-=9),r.set(a,{x:t,y:o,value:c,coords:a,cost:Number.POSITIVE_INFINITY,neighbors:h})}return r},dijkstra:function(t,e,r){const i=`${e},${r}`,s=new a({compare:(t,e)=>t.cost-e.cost}),n=t.get("0,0");n.cost=0,s.enqueue(n);while(s.size()>0){const e=s.dequeue();if(e.neighbors.forEach((r=>{const i=`${e.x+r[0]},${e.y+r[1]}`,n=t.get(i),o=n.cost!==Number.POSITIVE_INFINITY;n.cost=Math.min(n.cost,e.cost+n.value),o||s.enqueue(n)})),e.coords===i)break}return t.get(i).cost},print:function(t,e,r,i,s){const n=t.getContext("2d");n.clearRect(0,0,t.width,t.height);const a=(0,o.wH)("#006266","#C4E538",e.get(`${i},${s}`).cost+1),h=(0,o.wH)("#006266","#C4E538",10);e.forEach((t=>{n.fillStyle=h[t.value],n.fillRect(t.x,t.y,1,1),r.has(t.coords)?(n.fillStyle="#181a1b",n.fillRect(t.x+i+2,t.y,1,1)):(n.fillStyle=a[t.cost],n.fillRect(t.x+i+2,t.y,1,1))}))},getNodesOnPath:function(t,e){const r=new Set;let i=e;r.add(i);while("0,0"!==i){let e=Number.MAX_SAFE_INTEGER,s=null;t.get(i).neighbors.forEach((r=>{const n=i.split(",").map((t=>+t)),o=`${n[0]+r[0]},${n[1]+r[1]}`,a=t.get(o);a.cost<e&&(e=a.cost,s=o)})),r.add(s),i=s}return r.add("0,0"),r}}},c=h,u=r(1001),l=(0,u.Z)(c,i,s,!1,null,null,null),p=l.exports},47695:function(t,e,r){"use strict";r.d(e,{dZ:function(){return i},fb:function(){return a},wH:function(){return o}});const i=["#440154","#48186a","#472d7b","#424086","#3b528b","#33638d","#2c728e","#26828e","#21918c","#1fa088","#28ae80","#3fbc73","#5ec962","#84d44b","#addc30","#d8e219","#fde725"],s=t=>{const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null},n=(t,e,r)=>"#"+((1<<24)+(t<<16)+(e<<8)+r).toString(16).slice(1),o=(t,e,r)=>{const i=s(t),o=s(e);if(r<2)return[t];const a=[];for(let s=0;s<r;s++){const t=s/(r-1);a.push(n(Math.floor(i.r+t*(o.r-i.r)),Math.floor(i.g+t*(o.g-i.g)),Math.floor(i.b+t*(o.b-i.b))))}return a},a=(t,e)=>{if(t.length>e)return t.slice(0,e);const r=t.length-1;let i=[];for(let s=0;s<r-1;s++)i=i.concat(o(t[s],t[s+1],Math.max(1,Math.floor(e/r))));while(i.length<e)i.push(t[t.length-1]);return i}}}]);
//# sourceMappingURL=6134.d9bfcfbb.js.map