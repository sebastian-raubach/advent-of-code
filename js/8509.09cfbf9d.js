"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[8509],{84493:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var s=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("Day",{attrs:{day:21,year:2020,solutions:e.solutions},on:{"input-changed":e.onInputChanged}})},i=[],r=t(86889),o={components:{Day:r.Z},data:function(){return{solutions:{partOne:null,partTwo:null}}},methods:{onInputChanged:function(e){this.ingredients=new Set,this.foods=e.map((e=>{const n=e.split(" (contains "),t=n[0].split(" "),s=n[1].replace(/\)/g,"").split(", ");return t.forEach((e=>this.ingredients.add(e))),{ingredients:new Set(t),allergens:new Set(s)}})),this.solvePartOne(),this.solvePartTwo()},intersect:function(e,n){return new Set([...e].filter((e=>n.has(e))))},union:function(e,n){return new Set([...e,...n])},solvePartOne:function(){this.allergenToIngredient={},this.foods.forEach((e=>{e.allergens.forEach((n=>{this.allergenToIngredient[n]?this.allergenToIngredient[n]=this.intersect(this.allergenToIngredient[n],e.ingredients):this.allergenToIngredient[n]=new Set(e.ingredients)}))}));const e=new Set(Object.values(this.allergenToIngredient).reduce(((e,n)=>this.union(e,n)))),n=[...this.ingredients].filter((n=>!e.has(n)));this.solutions.partOne=n.map((e=>this.foods.filter((n=>n.ingredients.has(e))).length)).reduce(((e,n)=>e+n))},solvePartTwo:function(){const e=[],n={},t=Object.keys(this.allergenToIngredient).length;while(e.length<t){const t=Object.keys(this.allergenToIngredient).filter((n=>-1===e.indexOf(n)&&1===this.allergenToIngredient[n].size));t.forEach((t=>{e.push(t);const s=this.allergenToIngredient[t].values().next().value;n[t]=s,Object.keys(this.allergenToIngredient).forEach((e=>this.allergenToIngredient[e].delete(s)))}))}this.solutions.partTwo=Object.keys(n).sort(((e,n)=>e.localeCompare(n))).map((e=>n[e])).join(",")}}},l=o,a=t(1001),h=(0,a.Z)(l,s,i,!1,null,null,null),u=h.exports}}]);
//# sourceMappingURL=8509.09cfbf9d.js.map