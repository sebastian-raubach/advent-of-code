"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[8754],{23456:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Day",{attrs:{day:7,year:2022,solutions:e.solutions},on:{"input-changed":e.onInputChanged},scopedSlots:e._u([{key:"partOne",fn:function(){return[n("pre",{staticClass:"day-7-code border"},[n("code",{domProps:{innerHTML:e._s(e.dirStructureHtml)}}),e._v("\n      ")])]},proxy:!0}])})},r=[],s=n(86889),l={components:{Day:s.Z},data:function(){return{solutions:{partOne:null,partTwo:null},dirStructureHtml:null}},methods:{onInputChanged:function(e){const t={name:"/",parent:null,children:{},files:{},size:0,totalSize:0};let n=t;e.forEach((e=>{const i=e.split(" ");if(e.startsWith("$"))if("cd"===i[1])if("/"===i[2])n=t;else if(".."===i[2])n=n.parent;else if(n.children[i[2]])n=n.children[i[2]];else{const e={name:i[2],parent:n,children:{},files:{},size:0,totalSize:0};n.children[i[2]]=e,n=e}else i[1];else if(e.startsWith("dir")){const e=i[1];if(!n.children[e]){const t={name:e,parent:n,children:{},files:{},size:0,totalSize:0};n.children[e]=t}}else{const e=+i[0],t=i[1];n.files[t]||(n.files[t]=e,n.size+=e)}})),this.traverseSum(t),this.solutions.partOne=this.countDirs(t,1e5);const i=this.flatten(t);i.sort(((e,t)=>e.totalSize-t.totalSize));const r=3e7-(7e7-t.totalSize);for(const s of i)if(s.totalSize>=r){this.solutions.partTwo=s.totalSize;break}this.dirStructureHtml=this.print(t)},flatten:function(e){const t=[e];return Object.keys(e.children).forEach((n=>{t.push(...this.flatten(e.children[n]))})),t},countDirs:function(e,t){let n=e.totalSize<=t?e.totalSize:0;return Object.keys(e.children).forEach((i=>{n+=this.countDirs(e.children[i],t)})),n},traverseSum:function(e){let t=0;return Object.keys(e.children).forEach((n=>{t+=this.traverseSum(e.children[n])})),Object.keys(e.files).forEach((n=>{t+=e.files[n]})),e.totalSize=t,t},print:function(e,t=0){let n=`<br/>${" ".repeat(t)}- <span class="day-7-directory">${e.name} (dir)</span>`;return Object.keys(e.children).forEach((i=>{n+=this.print(e.children[i],t+2)})),Object.keys(e.files).forEach((i=>{n+=`<br/>${" ".repeat(t+2)}- <span class="day-7-file">${i} (file, size=${e.files[i]})</span>`})),n}}},o=l,c=n(1001),a=(0,c.Z)(o,i,r,!1,null,null,null),u=a.exports}}]);
//# sourceMappingURL=8754.dbc030d1.js.map