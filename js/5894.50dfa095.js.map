{"version":3,"file":"js/5894.50dfa095.js","mappings":"0KAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,EAAE,KAAO,KAAK,UAAYN,EAAIO,WAAWC,GAAG,CAAC,gBAAgBR,EAAIS,iBAAiB,EACrMC,EAAkB,G,WCOtB,GACAC,WAAAA,CACAC,IAAAA,EAAAA,GAEAC,KAAAA,WACA,OACAN,UAAAA,CACAO,QAAAA,KACAC,QAAAA,MAEAC,WAAAA,CAAAA,EACAC,eAAAA,CAAAA,EAEA,EACAC,QAAAA,CACAT,eAAAA,SAAAA,GACA,mBACA,uBAEAU,EAAAA,SAAAA,IAEAC,EAAAA,EAAAA,QAAAA,WAAAA,IAAAA,QAAAA,MAAAA,IAEA,6BAEA,cAEA,4BAEA,0BAEA,+BAQA,OALA,eACAC,EAAAA,GAIA,CACAC,MAAAA,EAAAA,OACAC,UAAAA,EACA,IAIA,qBAGAC,EAAAA,SAAAA,IACA,+BACA,iCAGA,mCAAAF,MAAAA,EAAAC,SAAAA,EAAAA,UAAA,GACA,IAGA,oBACA,mBACA,EACAE,aAAAA,WAEA,WAEA,UAGAC,EAAAA,KAAAA,cAGA,kBAEA,kBAGA,yBAEA,EAKAC,EAAAA,SAAAA,IACAC,EAAAA,IAAAA,EAAAA,OACAF,EAAAA,KAAAA,EAAAA,MAAAA,IALAE,EAAAA,IAAAA,EAQA,CAEA,6BACA,EACAC,aAAAA,WAEA,QAEA,WAEAH,EAAAA,KAAAA,CAAAJ,MAAAA,aAAAC,SAAAA,IAGA,kBAEA,kBAGA,2BAEA,GAEAO,EAAAA,SAAAA,IACAC,GAAAA,EAAAA,SAAAA,EAAAA,SACAL,EAAAA,KAAAA,CACAJ,MAAAA,EAAAA,MACAC,SAAAA,EAAAA,SAAAA,EAAAA,UACA,GAGA,CAEA,wBACA,ICjI4P,I,UCOxPS,GAAY,OACd,EACAjC,EACAW,GACA,EACA,KACA,KACA,MAIF,EAAesB,EAAiB,O","sources":["webpack://advent-of-code/./src/components/2020/Day7.vue?0b68","webpack://advent-of-code/src/components/2020/Day7.vue","webpack://advent-of-code/./src/components/2020/Day7.vue?0716","webpack://advent-of-code/./src/components/2020/Day7.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Day',{attrs:{\"day\":7,\"year\":2020,\"solutions\":_vm.solutions},on:{\"input-changed\":_vm.onInputChanged}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Day :day=\"7\" :year=\"2020\" :solutions=\"solutions\" @input-changed=\"onInputChanged\">\n  </Day>\n</template>\n\n<script>\nimport Day from '@/components/Day'\n\nexport default {\n  components: {\n    Day\n  },\n  data: function () {\n    return {\n      solutions: {\n        partOne: null,\n        partTwo: null\n      },\n      bagMapping: {},\n      reverseMapping: {}\n    }\n  },\n  methods: {\n    onInputChanged: function (input) {\n      this.bagMapping = {}\n      this.reverseMapping = {}\n\n      input.forEach(i => {\n        // Replace all occurances of \"bag\" or \"bags\" and remove \".\"s\n        i = i.replace(/bag(s)?/g, '').replace(/\\./g, '')\n        // Split into the parent and child\n        const parts = i.split(' contain ')\n        // Trim\n        const source = parts[0].trim()\n        // Split the children\n        const targets = parts[1].split(', ').map(s => {\n          // Get the number\n          let number = s.replace(/\\D/g, '')\n          // And the color\n          const color = s.replace(/[0-9]/g, '')\n\n          // If there is no number assume 0\n          if (number.length === 0) {\n            number = 0\n          }\n\n          // Return the object\n          return {\n            color: color.trim(),\n            quantity: +number\n          }\n        })\n\n        // Store the mapping\n        this.bagMapping[source] = targets\n\n        // Then store the reverse mapping\n        targets.forEach(t => {\n          if (!this.reverseMapping[t.color]) {\n            this.reverseMapping[t.color] = []\n          }\n\n          this.reverseMapping[t.color].push({ color: source, quantity: t.quantity })\n        })\n      })\n\n      this.solvePartOne()\n      this.solvePartTwo()\n    },\n    solvePartOne: function () {\n      // Store current bags on a queue\n      const current = []\n      // Remember the visited nodes\n      const visited = new Set()\n\n      // Add the starting bag\n      current.push('shiny gold')\n\n      // While there are bags to visit\n      while (current.length > 0) {\n        // Get the first\n        const bag = current.shift()\n\n        // Get its parents\n        const parents = this.reverseMapping[bag]\n\n        if (!parents) {\n          // If there aren't any, add it to the visited nodes\n          visited.add(bag)\n        } else {\n          // Else, add all parents\n          parents.forEach(p => {\n            visited.add(p.color)\n            current.push(p.color)\n          })\n        }\n      }\n\n      this.solutions.partOne = visited.size\n    },\n    solvePartTwo: function () {\n      // Count the number of bags\n      let counter = 0\n      // Store the current bags on a queue\n      const current = []\n      // Add the query\n      current.push({ color: 'shiny gold', quantity: 1 })\n\n      // While there are bags on the queue\n      while (current.length > 0) {\n        // Get the first\n        const bag = current.shift()\n\n        // Get all children\n        const children = this.bagMapping[bag.color]\n\n        if (children) {\n          // If there are any add them on the queue with the quantities\n          children.forEach(c => {\n            counter += bag.quantity * c.quantity\n            current.push({\n              color: c.color,\n              quantity: bag.quantity * c.quantity\n            })\n          })\n        }\n      }\n\n      this.solutions.partTwo = counter\n    }\n  }\n}\n</script>\n\n<style>\n\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day7.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day7.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Day7.vue?vue&type=template&id=58483064\"\nimport script from \"./Day7.vue?vue&type=script&lang=js\"\nexport * from \"./Day7.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","solutions","on","onInputChanged","staticRenderFns","components","Day","data","partOne","partTwo","bagMapping","reverseMapping","methods","input","i","number","color","quantity","targets","solvePartOne","current","parents","visited","solvePartTwo","children","counter","component"],"sourceRoot":""}