{"version":3,"file":"js/383-legacy.edf38a83.js","mappings":"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","sources":["webpack://advent-of-code/./src/components/2021/Day11.vue?252f","webpack://advent-of-code/src/components/2021/Day11.vue","webpack://advent-of-code/./src/components/2021/Day11.vue?7c87","webpack://advent-of-code/./src/components/2021/Day11.vue","webpack://advent-of-code/./node_modules/core-js/modules/es.array.map.js","webpack://advent-of-code/./node_modules/core-js/modules/es.symbol.description.js","webpack://advent-of-code/./node_modules/core-js/modules/es.symbol.iterator.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Day',{attrs:{\"day\":11,\"year\":2021,\"solutions\":_vm.solutions},on:{\"input-changed\":_vm.onInputChanged},scopedSlots:_vm._u([{key:\"partTwo\",fn:function(){return [_c('div',{staticClass:\"canvas-holder\"},[_c('canvas',{staticClass:\"canvas\",attrs:{\"id\":\"partTwo\",\"width\":\"518\",\"height\":\"518\"}})])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Day :day=\"11\" :year=\"2021\" :solutions=\"solutions\" @input-changed=\"onInputChanged\">\n    <template v-slot:partTwo>\n      <div class=\"canvas-holder\">\n        <canvas id=\"partTwo\" class=\"canvas\" width=\"518\" height=\"518\" />\n      </div>\n    </template>\n  </Day>\n</template>\n\n<script>\nimport Day from '@/components/Day'\n\nexport default {\n  components: {\n    Day\n  },\n  data: function () {\n    return {\n      solutions: {\n        partOne: null,\n        partTwo: null\n      },\n      ns: [[-1, -1], [0, -1], [1, -1], [-1, 0], [1, 0], [-1, 1], [0, 1], [1, 1]],\n      grids: [],\n      round: 0\n    }\n  },\n  methods: {\n    onInputChanged: function (input) {\n      const grid = input.map(r => r.split('').map(c => {\n        return {\n          v: +c,\n          flashed: false\n        }\n      }))\n\n      // Total flash counter\n      let totalFlashes = 0\n      // Current round index\n      let i = 0\n      while (true) {\n        // Keep track of the ones that have flashed and need to increase their neighbors\n        const queue = []\n\n        grid.forEach((r, y) => r.forEach((c, x) => {\n          // Increase first\n          c.v++\n\n          // If they'll flash, add to queue\n          if (c.v > 9) {\n            queue.push({ x: x, y: y })\n          }\n        }))\n\n        let roundFlashes = 0\n        // Now go through the queue while there are still ones that have to flash\n        while (queue.length > 0) {\n          // Get the next one\n          const next = queue.shift()\n          // Get the corresponding grid cell\n          const gridCell = grid[next.y][next.x]\n          // If it hasn't flashed yet (it may be in the queue multiple times)\n          if (!gridCell.flashed) {\n            // Flash\n            gridCell.flashed = true\n            roundFlashes++\n\n            // Increment all neighbors\n            this.getNeighbors(next.x, next.y).forEach(n => {\n              const nbc = grid[n.y][n.x]\n              if (!nbc.flashed) {\n                nbc.v++\n\n                if (nbc.v > 9) {\n                  queue.push(n)\n                }\n              }\n            })\n          }\n        }\n\n        const flashMap = grid.map(r => r.map(c => Math.min(9, c.v)))\n        Object.freeze(flashMap)\n        this.grids.push(flashMap)\n\n        // Reset each flashed node\n        grid.forEach(r => r.forEach(c => {\n          c.flashed = false\n          if (c.v > 9) {\n            c.v = 0\n          }\n        }))\n\n        // Increment\n        i++\n        totalFlashes += roundFlashes\n\n        if (i === 100) {\n          // Found solution one after 100 iterations\n          this.solutions.partOne = totalFlashes\n        }\n        if (roundFlashes === 100) {\n          // Found solution two after all have flashed in the same round\n          this.solutions.partTwo = i\n\n          this.$nextTick(() => window.requestAnimationFrame(this.draw))\n\n          return\n        }\n      }\n    },\n    getNeighbors: function (x, y) {\n      // Create all possible neighbors, then filter out invalid ones\n      return this.ns.map(n => {\n        const dx = x + n[0]\n        const dy = y + n[1]\n\n        return {\n          x: dx,\n          y: dy\n        }\n      }).filter(n => {\n        return n.x >= 0 && n.x < 10 && n.y >= 0 && n.y < 10\n      })\n    },\n    draw: function () {\n      const ctx = document.getElementById('partTwo').getContext('2d')\n      ctx.clearRect(0, 0, 518, 518)\n      const gradient = this.createColorGradient('#C4E538', '#006266', 10)\n\n      const grid = this.grids[this.round]\n      for (let y = 0; y < 10; y++) {\n        for (let x = 0; x < 10; x++) {\n          ctx.fillStyle = gradient[grid[y][x]]\n          ctx.fillRect(x * 50, y * 50, 50, 50)\n        }\n      }\n\n      this.round = (this.round + 1) % this.grids.length\n\n      setTimeout(() => window.requestAnimationFrame(this.draw), 100)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.canvas-holder {\n  overflow: auto;\n  height: 522px;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day11.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day11.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Day11.vue?vue&type=template&id=544d7611&scoped=true&\"\nimport script from \"./Day11.vue?vue&type=script&lang=js&\"\nexport * from \"./Day11.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Day11.vue?vue&type=style&index=0&id=544d7611&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"544d7611\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","solutions","on","onInputChanged","scopedSlots","_u","key","fn","staticClass","proxy","staticRenderFns","components","Day","data","partOne","partTwo","ns","grids","round","methods","v","flashed","grid","forEach","c","queue","x","y","length","gridCell","roundFlashes","nbc","push","n","Object","freeze","flashMap","i","totalFlashes","getNeighbors","map","dx","dy","filter","draw","ctx","clearRect","fillStyle","gradient","fillRect","setTimeout","component","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","copyConstructorProperties","NativeSymbol","Symbol","SymbolPrototype","prototype","description","EmptyStringDescriptionStore","SymbolWrapper","result","constructor","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","get","symbol","string","desc","defineWellKnownSymbol"],"sourceRoot":""}