(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1bae98de"],{"11fe":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Day",{attrs:{day:23,year:2021,solutions:t.solutions},on:{"input-changed":t.onInputChanged}})},a=[],r=(o("99af"),o("4ec9"),o("d3b7"),o("3ca3"),o("ddb0"),o("caad"),o("159b"),o("b64b"),o("a9e3"),o("4de4"),o("a630"),o("d81d"),o("ac1f"),o("1276"),o("25f0"),o("2532"),o("a15b"),o("4e82"),o("4a87")),i=o("7b3d"),s=i.PriorityQueue,c={components:{Day:r["default"]},data:function(){return{solutions:{partOne:null,partTwo:null},moveCosts:{A:1,B:10,C:100,D:1e3},rooms:{1:[[3,2],[3,3]],10:[[5,2],[5,3]],100:[[7,2],[7,3]],1e3:[[9,2],[9,3]]},roomsTwo:{1:[[3,2],[3,3],[3,4],[3,5]],10:[[5,2],[5,3],[5,4],[5,5]],100:[[7,2],[7,3],[7,4],[7,5]],1e3:[[9,2],[9,3],[9,4],[9,5]]},hall:[1,2,4,6,8,10,11]}},methods:{onInputChanged:function(t){for(var e=t.concat(),o=new Map,n=0;n<e.length;n++)for(var a=0;a<e[n].length;a++)if(![" ","#","."].includes(e[n][a])){var r="".concat(a,",").concat(n);o.set(r,{isDone:!1,type:this.moveCosts[e[n][a]]})}this.solutions.partOne=this.solve(o,this.rooms)},solve:function(t,e){var o=this;Object.keys(e).forEach((function(o){for(var n=e[o],a=n.length-1;a>=0;a--){var r=t.get("".concat(n[a][0],",").concat(n[a][1]));if(void 0===r||r.type!==+o)return;r.isDone=!0}})),console.log(t);var n=new s({compare:function(t,e){return t.costTotal-e.costTotal}});n.enqueue({amphipods:t,costTotal:0,costApprox:this.getApproxCost(t,e)});var a=new Map,r=Number.POSITIVE_INFINITY,i=0,c=function(){var t=n.dequeue(),s=Array.from(t.amphipods.values()).filter((function(t){return t.isDone})).length;if(s>i&&(console.log(n.size(),a.size,s),i=s),t.costTotal>r)return"break";i=Math.max(i,Array.from(t.amphipods.values()).filter((function(t){return t.isDone})).length),Array.from(t.amphipods.values()).every((function(t){return t.isDone}))?r=Math.min(r,t.costTotal):t.amphipods.forEach((function(r,i){if(!r.isDone){var s=i.split(",").map((function(t){return+t}));if(1===s[1]){var c=o.getFreeRoomPosition(s,r.type,t.amphipods,e);if(null!==c){var u=new Map;t.amphipods.forEach((function(t,o){o===i?u.set("".concat(e[r.type][0][0],",").concat(c),{isDone:!0,type:t.type}):u.set(o,{isDone:t.isDone,type:t.type})}));var f=o.toString(u),p=a.get(f),l=t.costTotal+o.manhattan(s,[e[r.type][0][0],c])*r.type;(void 0===p||p>l)&&(a.set(f,t.costTotal),n.enqueue({amphipods:u,costTotal:l,costApprox:o.getApproxCost(u,e)}))}}else{var h=o.getHallPositions(s,t.amphipods);h.forEach((function(c){var u=new Map;t.amphipods.forEach((function(t,e){e===i?u.set("".concat(c,",1"),{isDone:!1,type:t.type}):u.set(e,{isDone:t.isDone,type:t.type})}));var f=o.toString(u),p=a.get(f),l=t.costTotal+o.manhattan(s,[c,1])*r.type;(void 0===p||p>l)&&(a.set(f,t.costTotal),n.enqueue({amphipods:u,costTotal:l,costApprox:o.getApproxCost(u,e)}))}))}}}))};while(n.size()>0){var u=c();if("break"===u)break}return r},getFreeRoomPosition:function(t,e,o,n){for(var a=n[e],r=Math.min(a[0][0],t[0])+1;r<Math.max(a[0][0],t[0]);r++)if(o.has("".concat(r,",",1)))return null;for(var i=null,s=2;s<a.length+2;s++){var c=o.get("".concat(a[0][0],",").concat(s));if(void 0!==c){if(c.type!==e)return null;break}i=s}return i},getHallPositions:function(t,e){for(var o=t[1]-1;o>1;o--)if(e.has("".concat(t[0],",").concat(o)))return[];for(var n=[],a=t[0]-1;a>=this.hall[0];a--)this.hall.includes(a)&&!e.has("".concat(a,",1"))&&n.push(a);for(var r=t[0]+1;r<=this.hall[this.hall.length-1];r++)this.hall.includes(r)&&!e.has("".concat(r,",1"))&&n.push(r);return n},getApproxCost:function(t,e){var o=this,n=0;return t.forEach((function(t,a){var r=a.split(",").map((function(t){return+t})),i=e[t.type][e[t.type].length-1];1===r[1]?n+=o.manhattan(r,i)*t.type:n+=(e[t.type].length+Math.abs(r[1]-1)+Math.abs(r[0]-i[0]))*t.type})),n},manhattan:function(t,e){return Math.abs(t[0]-e[0])+Math.abs(t[1]-e[1])},toString:function(t){return Array.from(t.keys()).sort().map((function(e){return"".concat(e,",").concat(t.get(e).type)})).join("|")}}},u=c,f=o("2877"),p=Object(f["a"])(u,n,a,!1,null,"8b2e0644",null);e["default"]=p.exports},2532:function(t,e,o){"use strict";var n=o("23e7"),a=o("e330"),r=o("5a34"),i=o("1d80"),s=o("577e"),c=o("ab13"),u=a("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~u(s(i(this)),s(r(t)),arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,o){"use strict";var n=o("da84"),a=o("0366"),r=o("c65b"),i=o("7b0b"),s=o("9bdd"),c=o("e95a"),u=o("68ee"),f=o("07fa"),p=o("8418"),l=o("9a1f"),h=o("35a1"),d=n.Array;t.exports=function(t){var e=i(t),o=u(this),n=arguments.length,v=n>1?arguments[1]:void 0,y=void 0!==v;y&&(v=a(v,n>2?arguments[2]:void 0));var m,g,b,w,x,A,T=h(e),D=0;if(!T||this==d&&c(T))for(m=f(e),g=o?new this(m):d(m);m>D;D++)A=y?v(e[D],D):e[D],p(g,D,A);else for(w=l(e,T),x=w.next,g=o?new this:[];!(b=r(x,w)).done;D++)A=y?s(w,v,[b.value,D],!0):b.value,p(g,D,A);return g.length=D,g}},"5a34":function(t,e,o){var n=o("da84"),a=o("44e7"),r=n.TypeError;t.exports=function(t){if(a(t))throw r("The method doesn't accept regular expressions");return t}},"9bdd":function(t,e,o){var n=o("825a"),a=o("2a62");t.exports=function(t,e,o,r){try{return r?e(n(o)[0],o[1]):e(o)}catch(i){a(t,"throw",i)}}},a15b:function(t,e,o){"use strict";var n=o("23e7"),a=o("e330"),r=o("44ad"),i=o("fc6a"),s=o("a640"),c=a([].join),u=r!=Object,f=s("join",",");n({target:"Array",proto:!0,forced:u||!f},{join:function(t){return c(i(this),void 0===t?",":t)}})},a630:function(t,e,o){var n=o("23e7"),a=o("4df4"),r=o("1c7e"),i=!r((function(t){Array.from(t)}));n({target:"Array",stat:!0,forced:i},{from:a})},ab13:function(t,e,o){var n=o("b622"),a=n("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(o){try{return e[a]=!1,"/./"[t](e)}catch(n){}}return!1}},caad:function(t,e,o){"use strict";var n=o("23e7"),a=o("4d64").includes,r=o("44d2");n({target:"Array",proto:!0},{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),r("includes")}}]);
//# sourceMappingURL=chunk-1bae98de.46aaf7c1.js.map