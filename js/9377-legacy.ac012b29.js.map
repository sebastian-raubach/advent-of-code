{"version":3,"file":"js/9377-legacy.ac012b29.js","mappings":"yJAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,GAAG,KAAO,KAAK,UAAYN,EAAIO,WAAWC,GAAG,CAAC,gBAAgBR,EAAIS,mBACrLC,EAAkB,G,8+HCQtBC,EAAAA,SAAAA,G,kBAQE,SAAF,8BACI,EAAJ,eACI,EAAJ,UAFA,E,6BAPA,YAIA,OAHA,aACA,2BAEA,8C,EALAA,C,EAAAC,MAcA,SACEC,WAAY,CACVC,IAAJA,EAAAA,YAEEC,KAAM,WACJ,MAAO,CACLR,UAAW,CACTS,QAAS,KACTC,QAAS,QAIfC,QAAS,CACPT,eAAgB,SAApBA,GAMM,IANN,WAEA,iBAGA,gCACA,sBACQ,IAAR,iCAEQU,EAAUC,IAAIC,EAAMF,EAAUG,IAAID,GAAQ,GAK5C,IADA,IAAN,UACA,oBACQ,IAAR,4CAEQE,EAAMH,IAAII,EAAMC,GAIlB,IArBN,eAqBAC,GAEQ,IAAR,gCAmBQ,GAjBAP,EAAUQ,SAAQ,SAA1BR,EAAAA,GAEU,IAAV,WAGA,qCACUS,GAAQC,EACRC,EAAID,EAAOC,EAGXC,EAAaX,IAAIQ,EAAGG,EAAaT,IAAIM,GAAKI,GAC1CD,EAAaX,IAAIU,EAAGC,EAAaT,IAAIQ,GAAKE,MAI5Cb,EAAYY,EAEpB,IAAY,EAAZ,CAEU,IAAV,wBACA,gBAEU,EAAV,2BACA,WAEU,IAAV,wBACA,gBAEU,EAAV,wBAhCA,mBAuCIE,SAAU,SAAdA,GACM,IAAN,0BACA,IAMM,OALAC,EAAYP,SAAQ,SAA1BO,EAAAA,GACQC,EAAMC,KAAKD,IAAIA,EAAKH,GACpBK,EAAMD,KAAKC,IAAIA,EAAKL,MAGfK,EAAMF,GAKfG,eAAgB,SAApBA,EAAAA,GACM,IAAN,gCAeM,OAbAnB,EAAUQ,SAAQ,SAAxBR,EAAAA,GAEQ,IAAR,qCAGQe,EAAYd,IAAImB,EAAGL,EAAYZ,IAAIiB,GAAKP,GACxCE,EAAYd,IAAIoB,EAAGN,EAAYZ,IAAIkB,GAAKR,MAI1CE,EAAYd,IAAIqB,EAAS,GAAIP,EAAYZ,IAAImB,EAAS,IAAM,GAC5DP,EAAYd,IAAIqB,EAASA,EAASC,OAAS,GAAIR,EAAYZ,IAAImB,EAASA,EAASC,OAAS,IAAM,GAEzFR,KC7H6P,I,cCOtQS,GAAY,OACd,EACA5C,EACAW,GACA,EACA,KACA,WACA,MAIF,QAAeiC,EAAiB,S,gBClBhC,IAAIC,EAAI,EAAQ,OAIhBA,EAAE,CAAEC,OAAQ,SAAUC,MAAM,GAAQ,CAClCC,iBAAkB","sources":["webpack://advent-of-code/./src/components/2021/Day14.vue?f539","webpack://advent-of-code/src/components/2021/Day14.vue","webpack://advent-of-code/./src/components/2021/Day14.vue?f2ea","webpack://advent-of-code/./src/components/2021/Day14.vue","webpack://advent-of-code/./node_modules/core-js/modules/es.number.max-safe-integer.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Day',{attrs:{\"day\":14,\"year\":2021,\"solutions\":_vm.solutions},on:{\"input-changed\":_vm.onInputChanged}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Day :day=\"14\" :year=\"2021\" :solutions=\"solutions\" @input-changed=\"onInputChanged\">\n  </Day>\n</template>\n\n<script>\nimport Day from '@/components/Day'\n\n// Create a map that, for missing keys, sets them to a default value\nclass MapWithDefault extends Map {\n  get (key) {\n    if (!this.has(key)) {\n      this.set(key, this.default())\n    }\n    return super.get(key)\n  }\n\n  constructor (defaultFunction, entries) {\n    super(entries)\n    this.default = defaultFunction\n  }\n}\n\nexport default {\n  components: {\n    Day\n  },\n  data: function () {\n    return {\n      solutions: {\n        partOne: null,\n        partTwo: null\n      }\n    }\n  },\n  methods: {\n    onInputChanged: function (input) {\n      // Get the original template\n      const template = input[0].split('')\n\n      // Get initial pair counts\n      let pairCount = new MapWithDefault(() => 0)\n      for (let i = 0; i < template.length - 1; i++) {\n        const pair = `${template[i]}${template[i + 1]}`\n\n        pairCount.set(pair, pairCount.get(pair) + 1)\n      }\n\n      // Parse the rules\n      const rules = new Map()\n      for (let i = 2; i < input.length; i++) {\n        const [from, to] = input[i].split(' -> ')\n\n        rules.set(from, to)\n      }\n\n      // Do the steps\n      for (let i = 0; i < 40; i++) {\n        // Compute the new pair counts\n        const newPairCount = new MapWithDefault(() => 0)\n\n        pairCount.forEach((count, pair) => {\n          // Get the current rule\n          const rule = rules.get(pair)\n\n          // Generate the new pairs\n          let [l, r] = pair.split('')\n          l = l + rule\n          r = rule + r\n\n          // Increment each pair by the count (of the previous rule round)\n          newPairCount.set(l, newPairCount.get(l) + count)\n          newPairCount.set(r, newPairCount.get(r) + count)\n        })\n\n        // Keep new ones\n        pairCount = newPairCount\n\n        if (i === 9) {\n          // On round 10, calculate part one\n          const letterCount = this.getLetterCount(pairCount, template)\n          const delta = this.getDelta(letterCount)\n          // Divide by 2 cause we're counting each letter twice\n          this.solutions.partOne = delta / 2\n        } else if (i === 39) {\n          // On step 40, calculate part two\n          const letterCount = this.getLetterCount(pairCount, template)\n          const delta = this.getDelta(letterCount)\n          // Divide by 2 cause we're counting each letter twice\n          this.solutions.partTwo = delta / 2\n        }\n      }\n    },\n    /**\n     * Calculates the delta between the max and the min of letter counts\n     */\n    getDelta: function (letterCount) {\n      let min = Number.MAX_SAFE_INTEGER\n      let max = 0\n      letterCount.forEach((count, _) => {\n        min = Math.min(min, count)\n        max = Math.max(max, count)\n      })\n\n      return max - min\n    },\n    /**\n     * Calculates letter counts based on pair counts and the template\n     */\n    getLetterCount: function (pairCount, template) {\n      const letterCount = new MapWithDefault(() => 0)\n\n      pairCount.forEach((count, pair) => {\n        // Split the pair\n        const [a, b] = pair.split('')\n\n        // Increment by the pair count\n        letterCount.set(a, letterCount.get(a) + count)\n        letterCount.set(b, letterCount.get(b) + count)\n      })\n\n      // We need to increase the very first and the very last letter as they're missed out by the previous loop\n      letterCount.set(template[0], letterCount.get(template[0]) + 1)\n      letterCount.set(template[template.length - 1], letterCount.get(template[template.length - 1]) + 1)\n\n      return letterCount\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day14.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day14.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Day14.vue?vue&type=template&id=1e0ef416&scoped=true&\"\nimport script from \"./Day14.vue?vue&type=script&lang=js&\"\nexport * from \"./Day14.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e0ef416\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.es/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","solutions","on","onInputChanged","staticRenderFns","MapWithDefault","Map","components","Day","data","partOne","partTwo","methods","pairCount","set","pair","get","rules","from","to","i","forEach","l","rule","r","newPairCount","count","getDelta","letterCount","min","Math","max","getLetterCount","a","b","template","length","component","$","target","stat","MAX_SAFE_INTEGER"],"sourceRoot":""}