{"version":3,"sources":["webpack:///./src/components/2018/Day17.vue?9026","webpack:///src/components/2018/Day17.vue","webpack:///./src/components/2018/Day17.vue?fb2b","webpack:///./src/components/2018/Day17.vue?66cf","webpack:///./src/components/2018/Day17.vue?9e7c","webpack:///./node_modules/core-js/modules/es.array.includes.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","solutions","on","onInputChanged","scopedSlots","_u","key","fn","staticClass","domProps","_s","gridOne","_v","proxy","staticRenderFns","components","Day","data","partOne","partTwo","methods","input","forEach","one","two","split","map","SOURCE","clay","push","x","y","clayyRange","Number","MAX_VALUE","xRange","Math","min","c","max","yRange","grid","row","SAND","console","log","spring","solvePartOne","solvePartTwo","print","REST","result","goDown","active","length","next","valid","includes","left","right","current","concat","CLAY","HYPO","counter","component","$","$includes","addToUnscopables","target","proto","el","arguments","undefined","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","forced","callbackfn"],"mappings":"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","file":"js/chunk-2b3f5e52.99fa0f2a.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Day',{attrs:{\"day\":17,\"year\":2018,\"solutions\":_vm.solutions},on:{\"input-changed\":_vm.onInputChanged},scopedSlots:_vm._u([{key:\"partOne\",fn:function(){return [_c('pre',{staticClass:\"day-17-code border\"},[_c('code',{domProps:{\"innerHTML\":_vm._s(_vm.gridOne)}}),_vm._v(\"\\n      \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Day :day=\"17\" :year=\"2018\" :solutions=\"solutions\" @input-changed=\"onInputChanged\">\n    <template v-slot:partOne>\n      <pre class=\"day-17-code border\">\n<code v-html=\"gridOne\" />\n      </pre>\n    </template>\n  </Day>\n</template>\n\n<script>\nimport Day from '@/components/Day'\n\nconst REST = '~'\nconst CLAY = '#'\nconst SAND = '.'\nconst HYPO = '|'\nconst SOURCE = 'x'\n\nexport default {\n  components: {\n    Day\n  },\n  data: function () {\n    return {\n      solutions: {\n        partOne: null,\n        partTwo: null\n      },\n      gridOne: null\n    }\n  },\n  methods: {\n    onInputChanged: function (input) {\n      const clay = []\n      input.forEach(i => {\n        // Split x and y part\n        const parts = i.split(', ')\n        // Split each on the equals sign\n        const one = parts[0].split('=')\n        const two = parts[1].split('=')\n        // Convert to numbers\n        one[1] = +one[1]\n        two[1] = two[1].split('..').map(d => +d)\n\n        if (one[0] === SOURCE) {\n          // If the first coordinate is x, fill in the y's according to the range\n          for (let y = two[1][0]; y <= two[1][1]; y++) {\n            clay.push({\n              x: one[1],\n              y: y\n            })\n          }\n        } else {\n          // If the first coordinate is y, fill in the x's according to the range\n          for (let x = two[1][0]; x <= two[1][1]; x++) {\n            clay.push({\n              x: x,\n              y: one[1]\n            })\n          }\n        }\n      })\n\n      // Start with the spring\n      const xRange = [500, 500]\n      const yRange = [0, 0]\n      this.clayyRange = [Number.MAX_VALUE, -Number.MAX_VALUE]\n\n      // Then expand the range\n      clay.forEach(c => {\n        xRange[0] = Math.min(xRange[0], c.x)\n        xRange[1] = Math.max(xRange[1], c.x)\n        yRange[0] = Math.min(yRange[0], c.y)\n        yRange[1] = Math.max(yRange[1], c.y)\n\n        this.clayyRange[0] = Math.min(this.clayyRange[0], c.y)\n        this.clayyRange[1] = Math.max(this.clayyRange[1], c.y)\n      })\n      // Add 1 cell padding\n      xRange[0]--\n      xRange[1]++\n      this.clayyRange[0] -= yRange[0]\n      this.clayyRange[1] -= yRange[0]\n\n      // Fill the grid with sand\n      this.grid = []\n      for (let y = 0; y <= yRange[1] - yRange[0]; y++) {\n        const row = []\n        for (let x = 0; x <= xRange[1] - xRange[0]; x++) {\n          row.push(SAND)\n        }\n        this.grid.push(row)\n      }\n\n      // Adjust coordinates to be relative to top left coordinate\n      clay.forEach(c => {\n        c.x -= xRange[0]\n        c.y -= yRange[0]\n\n        if (!this.grid[c.y]) {\n          console.log(c.y)\n        }\n        // Set the clay\n        this.grid[c.y][c.x] = CLAY\n      })\n\n      // Set the spring\n      this.spring = { x: 500 - xRange[0], y: 0 - yRange[0] }\n      this.grid[this.spring.y][this.spring.x] = SOURCE\n\n      this.solvePartOne()\n      this.solvePartTwo()\n    },\n    print: function () {\n      let result = ''\n      for (let y = 0; y < this.grid.length; y++) {\n        for (let x = 0; x < this.grid[y].length; x++) {\n          if (this.grid[y][x] === REST) {\n            result += '<span class=\"day-17-water-rest\">~</span>'\n          } else if (this.grid[y][x] === HYPO) {\n            result += '<span class=\"day-17-water-hypo\">|</span>'\n          } else if (this.grid[y][x] === CLAY) {\n            result += '<span class=\"day-17-clay\">#</span>'\n          } else {\n            result += this.grid[y][x]\n          }\n        }\n        result += '<br/>'\n      }\n      return result\n    },\n    goDown: function () {\n      const valid = [CLAY, REST]\n\n      // While we still have a position that can advance\n      while (this.active.length > 0) {\n        // Get the next one\n        let current = this.active.shift().concat()\n        while (true) {\n          // Continue downwards as long as we're going through sand\n          const next = current.concat()\n          next[1]++\n\n          if (next[1] >= this.grid.length) {\n            // We reached the bottom\n            break\n          }\n\n          if (this.grid[next[1]][next[0]] === SAND) {\n            // If we hit sand, just continue downwards\n            this.grid[next[1]][next[0]] = HYPO\n            current = next\n          } else if (this.grid[next[1]][next[0]] === CLAY || this.grid[next[1]][next[0]] === REST) {\n            // Else, if we hit clay or water at rest, expand to the left and right\n            let left = current.concat()\n            let right = current.concat()\n\n            // While we haven't reached a point where the water can overflow\n            while (valid.includes(this.grid[left[1] + 1][left[0] - 1]) && valid.includes(this.grid[right[1] + 1][right[0] + 1])) {\n              left = current.concat()\n              right = current.concat()\n              // Find the left boundary\n              while (valid.includes(this.grid[left[1] + 1][left[0] - 1])) {\n                if (this.grid[left[1]][left[0] - 1] === CLAY) {\n                  break\n                }\n                left[0]--\n                this.grid[left[1]][left[0]] = REST\n              }\n              // Find the right boundary\n              while (valid.includes(this.grid[right[1] + 1][right[0] + 1])) {\n                if (this.grid[right[1]][right[0] + 1] === CLAY) {\n                  break\n                }\n                right[0]++\n                this.grid[right[1]][right[0]] = REST\n              }\n\n              this.grid[current[1]][current[0]] = REST\n              current[1]--\n            }\n\n            // We have reached a tipping point, fill the top layer with hypothetical water\n            for (let x = left[0]; x < right[0] + 1; x++) {\n              this.grid[left[1]][x] = HYPO\n            }\n\n            if (!valid.includes(this.grid[right[1] + 1][right[0] + 1])) {\n              // If the overflow is to the right, remember this\n              right[0]++\n              this.grid[right[1]][right[0]] = HYPO\n              this.active.push(right)\n            }\n            if (!valid.includes(this.grid[left[1] + 1][left[0] - 1])) {\n              // If the overflow is to the left, remember this\n              left[0]--\n              this.grid[left[1]][left[0]] = HYPO\n              this.active.push(left)\n            }\n\n            break\n          } else {\n            break\n          }\n        }\n      }\n    },\n    solvePartOne: function () {\n      // Start with one active position - the spring\n      this.active = [[this.spring.x, this.spring.y]]\n      // Iterate the way down\n      this.goDown()\n\n      // Count the occurances of water\n      let counter = 0\n      for (let y = this.clayyRange[0]; y <= this.clayyRange[1]; y++) {\n        for (let x = 0; x < this.grid[y].length; x++) {\n          if (this.grid[y][x] === REST || this.grid[y][x] === HYPO) {\n            counter++\n          }\n        }\n      }\n      this.solutions.partOne = counter\n      this.gridOne = this.print()\n    },\n    solvePartTwo: function () {\n      // Cound the occurance of water at rest\n      let counter = 0\n      for (let y = this.clayyRange[0]; y <= this.clayyRange[1]; y++) {\n        for (let x = 0; x < this.grid[y].length; x++) {\n          if (this.grid[y][x] === REST) {\n            counter++\n          }\n        }\n      }\n      this.solutions.partTwo = counter\n    }\n  }\n}\n</script>\n\n<style>\n.day-17-code {\n  background-color: #2c3e50;\n  color: #7f8c8d;\n  max-height: 100vh;\n}\n.day-17-clay {\n  background-color: #7f8c8d;\n  color: #2c3e50;\n}\n.day-17-water-rest {\n  background-color: #2980b9;\n  color: #2c3e50;\n}\n.day-17-water-hypo {\n  background-color: #3498db;\n  color: #2c3e50;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Day17.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Day17.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Day17.vue?vue&type=template&id=4943407d&\"\nimport script from \"./Day17.vue?vue&type=script&lang=js&\"\nexport * from \"./Day17.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Day17.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Day17.vue?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}