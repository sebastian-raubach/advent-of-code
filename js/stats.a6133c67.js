(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["stats"],{"4df4":function(t,e,r){"use strict";var a=r("da84"),o=r("0366"),n=r("c65b"),s=r("7b0b"),i=r("9bdd"),l=r("e95a"),c=r("68ee"),d=r("07fa"),u=r("8418"),p=r("9a1f"),f=r("35a1"),m=a.Array;t.exports=function(t){var e=s(t),r=c(this),a=arguments.length,_=a>1?arguments[1]:void 0,v=void 0!==_;v&&(_=o(_,a>2?arguments[2]:void 0));var h,y,b,g,k,w,x=f(e),j=0;if(!x||this==m&&l(x))for(h=d(e),y=r?new this(h):m(h);h>j;j++)w=v?_(e[j],j):e[j],u(y,j,w);else for(g=p(e,x),k=g.next,y=r?new this:[];!(b=n(k,g)).done;j++)w=v?i(g,_,[b.value,j],!0):b.value,u(y,j,w);return y.length=j,y}},"671c":function(t,e,r){},"6af9":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h1",[t._v("Statistics")]),r("h2",[t._v("Input")]),r("p",[t._v("Paste your private leaderboard API JSON into this text area to see some stats.")]),r("b-form",{on:{submit:function(t){t.preventDefault()}}},[r("b-form-group",{attrs:{label:"JSON API input","label-for":"json",description:"The JSON API output of a leaderboard."}},[r("b-form-textarea",{attrs:{rows:"5",id:"json"},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}})],1)],1),t.json?[r("h2",[t._v("Stats overview")]),r("p",[t._v("Hover over the stars to see the timestamps for part 1 and part 2 as well as the user's ranking for the day.")]),r("b-table",{attrs:{"table-class":"star-table mt-3",items:t.json,fields:t.fields,stacked:"sm","sort-by":"local_score","sort-desc":!0},scopedSlots:t._u([{key:"cell(days)",fn:function(e){return[t._l(t.tasks,(function(a){return[e.item.completion_day_level[a]&&e.item.completion_day_level[a][2]?r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.body.html",value:t.getTooltip(a,e.item.completion_day_level[a]),expression:"getTooltip(day, data.item.completion_day_level[day])",modifiers:{body:!0,html:!0}}],key:e.id+"-"+a,staticClass:"star star-gold"},[t._v("★")]):e.item.completion_day_level[a]&&e.item.completion_day_level[a][1]?r("span",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.body.html",value:t.getTooltip(a,e.item.completion_day_level[a]),expression:"getTooltip(day, data.item.completion_day_level[day])",modifiers:{body:!0,html:!0}}],key:e.id+"-"+a,staticClass:"star star-silver"},[t._v("★")]):r("span",{key:e.id+"-"+a,staticClass:"star star-none"},[t._v("☆")])]}))]}}],null,!1,2878569974)})]:t._e(),t.userTraces?[r("h2",[t._v("Points over time")]),r("div",{staticClass:"my-3",attrs:{id:"timeline-chart"}})]:t._e()],2)},o=[],n=r("5530"),s=(r("d81d"),r("a630"),r("3ca3"),r("d3b7"),r("ddb0"),r("4de4"),r("4e82"),r("b64b"),r("b0c0"),r("99af"),r("2f62")),i={data:function(){return{input:null,tasks:Array.from(Array(25).keys()).map((function(t){return t+1})),fields:[{key:"name",label:"Name",sortable:!0},{key:"local_score",label:"Score",sortable:!0},{key:"stars",label:"Stars",sortable:!0},{key:"days",label:"Days",class:"stars"}]}},computed:Object(n["a"])(Object(n["a"])({},Object(s["b"])(["darkMode"])),{},{json:function(){if(!this.input)return null;try{var t=JSON.parse(this.input);return Object.keys(t.members).map((function(e){return t.members[e]})).sort((function(t,e){return t.local_score-e.local_score})).filter((function(t){return t.stars>0}))}catch(e){return null}},userTraces:function(){var t=this;return this.json?this.json.map((function(e){var r=0,a=[];a.push(r);for(var o=0;o<t.tasks.length;o++)if(e.completion_day_level[o+1]){var n=e.completion_day_level[o+1][1]?+e.completion_day_level[o+1][1].get_star_ts:null,s=e.completion_day_level[o+1][2]?+e.completion_day_level[o+1][2].get_star_ts:null;if(n){var i=t.sortedUsersPerDay[o].partOne.indexOf(n);r+=t.json.length-i}if(s){var l=t.sortedUsersPerDay[o].partTwo.indexOf(s);r+=t.json.length-l}(n||s)&&a.push(r)}return a})):null},sortedUsersPerDay:function(){var t=this;return this.json?this.tasks.map((function(e){var r=t.json.map((function(t){return t.completion_day_level[e]&&t.completion_day_level[e][1]?+t.completion_day_level[e][1].get_star_ts:null})),a=t.json.map((function(t){return t.completion_day_level[e]&&t.completion_day_level[e][2]?+t.completion_day_level[e][2].get_star_ts:null}));return r.sort(),a.sort(),{partOne:r,partTwo:a}})):null}}),watch:{darkMode:function(){var t=this;this.$nextTick((function(){return t.updateChart()}))},userTraces:function(){var t=this;this.$nextTick((function(){return t.updateChart()}))}},methods:{updateChart:function(){var t=this;this.$plotly.purge("timeline-chart");var e=this.userTraces.map((function(e,r){return{x:e.map((function(t,e){return e})),y:e,name:t.json[r].name,mode:"lines+markers"}}));this.$plotly.newPlot("timeline-chart",e,{height:350+this.userTraces.length/5*10,margin:{t:10,b:10,l:50,r:0},paper_bgcolor:"transparent",plot_bgcolor:"transparent",xaxis:{tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee"},yaxis:{title:{text:"Points",font:{color:this.darkMode?"white":"black"}},tickfont:{color:this.darkMode?"white":"black"},gridcolor:this.darkMode?"#111111":"#eeeeee"},legend:{bgcolor:"rgba(0,0,0,0)",orientation:"h",traceorder:"reversed",font:{color:this.darkMode?"white":"black"}}},{responsive:!0,displaylogo:!1})},getTooltip:function(t,e){var r="<p>Day ".concat(t,"</p>");return e[1]&&e[1].get_star_ts&&(r+="<p>Part 1: ".concat(new Date(1e3*+e[1].get_star_ts).toLocaleString()," Position: ").concat(this.sortedUsersPerDay[t-1].partOne.indexOf(+e[1].get_star_ts)+1,"</p>")),e[2]&&e[2].get_star_ts&&(r+="<p>Part 2: ".concat(new Date(1e3*+e[2].get_star_ts).toLocaleString()," Position: ").concat(this.sortedUsersPerDay[t-1].partTwo.indexOf(+e[2].get_star_ts)+1,"</p>")),r}}},l=i,c=(r("7078"),r("2877")),d=Object(c["a"])(l,a,o,!1,null,null,null);e["default"]=d.exports},7078:function(t,e,r){"use strict";r("671c")},"9bdd":function(t,e,r){var a=r("825a"),o=r("2a62");t.exports=function(t,e,r,n){try{return n?e(a(r)[0],r[1]):e(r)}catch(s){o(t,"throw",s)}}},a630:function(t,e,r){var a=r("23e7"),o=r("4df4"),n=r("1c7e"),s=!n((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:s},{from:o})},b0c0:function(t,e,r){var a=r("83ab"),o=r("5e77").EXISTS,n=r("e330"),s=r("9bf2").f,i=Function.prototype,l=n(i.toString),c=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,d=n(c.exec),u="name";a&&!o&&s(i,u,{configurable:!0,get:function(){try{return d(c,l(this))[1]}catch(t){return""}}})},d81d:function(t,e,r){"use strict";var a=r("23e7"),o=r("b727").map,n=r("1dde"),s=n("map");a({target:"Array",proto:!0,forced:!s},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=stats.a6133c67.js.map