{"version":3,"file":"js/307.4ae8a660.js","mappings":"yKAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,MAAM,CAAC,IAAM,GAAG,KAAO,KAAK,UAAYN,EAAIO,WAAWC,GAAG,CAAC,gBAAgBR,EAAIS,iBAAiB,EACtMC,EAAkB,G,WCQtB,MAAMC,UAAuBC,IAC7BC,GAAAA,CAAAA,GAIA,OAHA,aACA,2BAEA,YACA,CAEAC,WAAAA,CAAAA,EAAAA,GACA,SACA,cACA,EAGA,OACAC,WAAAA,CACAC,IAAAA,EAAAA,GAEAC,KAAAA,WACA,OACAV,UAAAA,CACAW,QAAAA,KACAC,QAAAA,MAGA,EACAC,QAAAA,CACAX,eAAAA,SAAAA,GAEA,uBAGA,qBACA,8BACA,2BAEAY,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,GAAAA,EACA,CAGA,gBACA,4BACA,8BAEAC,EAAAA,IAAAA,EAAAA,EACA,CAGA,sBAEA,uBAmBA,GAjBAD,EAAAA,SAAAA,CAAAA,EAAAA,KAEA,iBAGA,qBACAE,GAAAA,EACAC,EAAAA,EAAAA,EAGAC,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,GAAAA,GACAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,GAAAA,EAAAA,IAIAJ,EAAAA,EAEA,OAEA,iCACA,mBAEA,0BACA,iBAEA,iCACA,mBAEA,0BACA,CACA,CACA,EAIAK,SAAAA,SAAAA,GACA,8BACA,IAMA,OALAC,EAAAA,SAAAA,CAAAA,EAAAA,KACAC,EAAAA,KAAAA,IAAAA,EAAAA,GACAC,EAAAA,KAAAA,IAAAA,EAAAA,EAAAA,IAGA,GACA,EAIAC,eAAAA,SAAAA,EAAAA,GACA,uBAeA,OAbAT,EAAAA,SAAAA,CAAAA,EAAAA,KAEA,uBAGAM,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,GAAAA,GACAA,EAAAA,IAAAA,EAAAA,EAAAA,IAAAA,GAAAA,EAAAA,IAIAA,EAAAA,IAAAA,EAAAA,GAAAA,EAAAA,IAAAA,EAAAA,IAAAA,GACAA,EAAAA,IAAAA,EAAAA,EAAAA,OAAAA,GAAAA,EAAAA,IAAAA,EAAAA,EAAAA,OAAAA,IAAAA,GAEA,CACA,IC9H6P,I,UCOzPI,GAAY,OACd,EACAhC,EACAW,GACA,EACA,KACA,WACA,MAIF,EAAeqB,EAAiB,O","sources":["webpack://advent-of-code/./src/components/2021/Day14.vue?5029","webpack://advent-of-code/src/components/2021/Day14.vue","webpack://advent-of-code/./src/components/2021/Day14.vue?b0cf","webpack://advent-of-code/./src/components/2021/Day14.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Day',{attrs:{\"day\":14,\"year\":2021,\"solutions\":_vm.solutions},on:{\"input-changed\":_vm.onInputChanged}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Day :day=\"14\" :year=\"2021\" :solutions=\"solutions\" @input-changed=\"onInputChanged\">\n  </Day>\n</template>\n\n<script>\nimport Day from '@/components/Day'\n\n// Create a map that, for missing keys, sets them to a default value\nclass MapWithDefault extends Map {\n  get (key) {\n    if (!this.has(key)) {\n      this.set(key, this.default())\n    }\n    return super.get(key)\n  }\n\n  constructor (defaultFunction, entries) {\n    super(entries)\n    this.default = defaultFunction\n  }\n}\n\nexport default {\n  components: {\n    Day\n  },\n  data: function () {\n    return {\n      solutions: {\n        partOne: null,\n        partTwo: null\n      }\n    }\n  },\n  methods: {\n    onInputChanged: function (input) {\n      // Get the original template\n      const template = input[0].split('')\n\n      // Get initial pair counts\n      let pairCount = new MapWithDefault(() => 0)\n      for (let i = 0; i < template.length - 1; i++) {\n        const pair = `${template[i]}${template[i + 1]}`\n\n        pairCount.set(pair, pairCount.get(pair) + 1)\n      }\n\n      // Parse the rules\n      const rules = new Map()\n      for (let i = 2; i < input.length; i++) {\n        const [from, to] = input[i].split(' -> ')\n\n        rules.set(from, to)\n      }\n\n      // Do the steps\n      for (let i = 0; i < 40; i++) {\n        // Compute the new pair counts\n        const newPairCount = new MapWithDefault(() => 0)\n\n        pairCount.forEach((count, pair) => {\n          // Get the current rule\n          const rule = rules.get(pair)\n\n          // Generate the new pairs\n          let [l, r] = pair.split('')\n          l = l + rule\n          r = rule + r\n\n          // Increment each pair by the count (of the previous rule round)\n          newPairCount.set(l, newPairCount.get(l) + count)\n          newPairCount.set(r, newPairCount.get(r) + count)\n        })\n\n        // Keep new ones\n        pairCount = newPairCount\n\n        if (i === 9) {\n          // On round 10, calculate part one\n          const letterCount = this.getLetterCount(pairCount, template)\n          const delta = this.getDelta(letterCount)\n          // Divide by 2 cause we're counting each letter twice\n          this.solutions.partOne = delta / 2\n        } else if (i === 39) {\n          // On step 40, calculate part two\n          const letterCount = this.getLetterCount(pairCount, template)\n          const delta = this.getDelta(letterCount)\n          // Divide by 2 cause we're counting each letter twice\n          this.solutions.partTwo = delta / 2\n        }\n      }\n    },\n    /**\n     * Calculates the delta between the max and the min of letter counts\n     */\n    getDelta: function (letterCount) {\n      let min = Number.MAX_SAFE_INTEGER\n      let max = 0\n      letterCount.forEach((count, _) => {\n        min = Math.min(min, count)\n        max = Math.max(max, count)\n      })\n\n      return max - min\n    },\n    /**\n     * Calculates letter counts based on pair counts and the template\n     */\n    getLetterCount: function (pairCount, template) {\n      const letterCount = new MapWithDefault(() => 0)\n\n      pairCount.forEach((count, pair) => {\n        // Split the pair\n        const [a, b] = pair.split('')\n\n        // Increment by the pair count\n        letterCount.set(a, letterCount.get(a) + count)\n        letterCount.set(b, letterCount.get(b) + count)\n      })\n\n      // We need to increase the very first and the very last letter as they're missed out by the previous loop\n      letterCount.set(template[0], letterCount.get(template[0]) + 1)\n      letterCount.set(template[template.length - 1], letterCount.get(template[template.length - 1]) + 1)\n\n      return letterCount\n    }\n  }\n}\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day14.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Day14.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Day14.vue?vue&type=template&id=1e0ef416&scoped=true\"\nimport script from \"./Day14.vue?vue&type=script&lang=js\"\nexport * from \"./Day14.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1e0ef416\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","solutions","on","onInputChanged","staticRenderFns","MapWithDefault","Map","get","constructor","components","Day","data","partOne","partTwo","methods","pairCount","rules","l","r","newPairCount","getDelta","letterCount","min","max","getLetterCount","component"],"sourceRoot":""}