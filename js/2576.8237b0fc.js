"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[2576],{64206:function(t,s,n){n.r(s),n.d(s,{default:function(){return c}});var i=function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("Day",{attrs:{day:20,year:2021,solutions:t.solutions},on:{"input-changed":t.onInputChanged},scopedSlots:t._u([{key:"partTwo",fn:function(){return[n("div",{staticClass:"canvas-holder"},[n("canvas",{staticClass:"canvas",attrs:{id:"partTwo",width:"800",height:"500"}})])]},proxy:!0}])})},o=[],a=n(86889),h={components:{Day:a.Z},data:function(){return{solutions:{partOne:null,partTwo:null},images:null,round:0,bounds:null}},methods:{onInputChanged:function(t){const s=t[0].split("").map((t=>"#"===t?1:0));let n=new Map;t.slice(2).forEach(((t,s)=>t.split("").forEach(((t,i)=>n.set(`${i},${s}`,"#"===t?1:0)))));const i=[n];let o=0;for(let a=0;a<50;a++)n=this.enhance(n,s,o),1===s[0]&&(o=1-o),1===a&&(this.solutions.partOne=this.count(n)),i.push(n);this.solutions.partTwo=this.count(n),this.images=i,this.round=0,this.$nextTick((()=>this.drawInit()))},count:function(t){let s=0;return t.forEach(((t,n)=>{t&&s++})),s},enhance:function(t,s,n){const i=new Map;let o=Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,h=-Number.MAX_SAFE_INTEGER,e=-Number.MAX_SAFE_INTEGER;t.forEach(((t,s)=>{const n=s.split(",").map((t=>+t));o=Math.min(o,n[0]),a=Math.min(a,n[1]),h=Math.max(h,n[0]),e=Math.max(e,n[1])}));for(let u=a-1;u<e+2;u++)for(let a=o-1;a<h+2;a++){const o=this.getNeighbors(a,u).map((s=>{const i=s.join(",");return t.has(i)?t.get(i):n})).join(""),h=parseInt(o,2);s[h]?i.set(`${a},${u}`,1):i.set(`${a},${u}`,0)}return i},getNeighbors:function(t,s){return[[t-1,s-1],[t,s-1],[t+1,s-1],[t-1,s],[t,s],[t+1,s],[t-1,s+1],[t,s+1],[t+1,s+1]]},drawInit:function(){this.bounds={left:0,right:0,top:0,bottom:0},this.images.forEach((t=>{t.forEach(((t,s)=>{const n=s.split(",").map((t=>+t));this.bounds.left=Math.min(this.bounds.left,n[0]),this.bounds.right=Math.max(this.bounds.right,n[0]),this.bounds.top=Math.min(this.bounds.top,n[1]),this.bounds.bottom=Math.max(this.bounds.bottom,n[1])}))})),this.canvas=document.getElementById("partTwo");const t=2;this.canvas.width=t*(Math.abs(this.bounds.left)+Math.abs(this.bounds.right)),this.canvas.height=t*(Math.abs(this.bounds.top)+Math.abs(this.bounds.bottom)),this.ctx=this.canvas.getContext("2d"),this.ctx.scale(t,t),this.ctx.translate(Math.abs(this.bounds.left),Math.abs(this.bounds.top)),this.draw()},draw:function(){this.ctx.fillStyle="#006266",this.ctx.fillRect(this.bounds.left,this.bounds.top,this.canvas.width,this.canvas.height),this.ctx.fillStyle="#C4E538";const t=this.images[this.round];t.forEach(((t,s)=>{if(t){const t=s.split(",").map((t=>+t));this.ctx.fillRect(t[0],t[1],1,1)}})),this.round=(this.round+1)%this.images.length,setTimeout((()=>window.requestAnimationFrame(this.draw)),100)}}},e=h,u=n(1001),r=(0,u.Z)(e,i,o,!1,null,"1d60609f",null),c=r.exports}}]);
//# sourceMappingURL=2576.8237b0fc.js.map