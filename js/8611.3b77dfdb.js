"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[8611],{78926:function(t,e,o){o.r(e),o.d(e,{default:function(){return p}});var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Day",{attrs:{day:9,year:2021,solutions:t.solutions},on:{"input-changed":t.onInputChanged},scopedSlots:t._u([{key:"partOne",fn:function(){return[o("div",{attrs:{id:"partOne"}})]},proxy:!0},{key:"partTwo",fn:function(){return[o("div",{attrs:{id:"partTwo"}})]},proxy:!0}])})},r=[],s=o(86889),a=o(20629),i={components:{Day:s.Z},computed:{...(0,a.Se)(["storeDarkMode"]),layout:function(){return{height:700,xaxis:{title:{text:"X",font:{color:this.storeDarkMode?"white":"black"}},tickfont:{color:this.storeDarkMode?"white":"black"},gridcolor:this.storeDarkMode?"#111111":"#eeeeee"},yaxis:{title:{text:"Y",font:{color:this.storeDarkMode?"white":"black"}},tickfont:{color:this.storeDarkMode?"white":"black"},gridcolor:this.storeDarkMode?"#111111":"#eeeeee",scaleanchor:"x"},paper_bgcolor:"transparent",plot_bgcolor:"transparent"}}},watch:{storeDarkMode:function(){this.plotGrid(),this.plotBasins()}},data:function(){return{solutions:{partOne:null,partTwo:null},pointToBasin:{}}},methods:{onInputChanged:function(t){const e=t.map((t=>t.split("").map((t=>+t)))),o=[];for(let s=0;s<e.length;s++)for(let t=0;t<e[s].length;t++){const n=this.neighbors(e,t,s);e[s][t]<Math.min(...n.map((t=>e[t.y][t.x])))&&o.push({x:t,y:s})}this.setTraceOne(e),this.solutions.partOne=o.map((t=>e[t.y][t.x]+1)).reduce(((t,e)=>t+e)),this.plotGrid();const n=o.map(((t,o)=>this.calcBasinSize(e,t,[],o))),r=n.concat().sort(((t,e)=>e-t));this.solutions.partTwo=r[0]*r[1]*r[2],this.setTraceTwo(e,n),this.plotBasins()},setTraceOne:function(t){const e={x:Array.from(Array(t[0].length)).map(((t,e)=>e+1)),y:Array.from(Array(t.length)).map(((t,e)=>e+1)),z:t,type:"heatmap",colorscale:[[0,"#1B1464"],[1,"#12CBC4"]]};Object.freeze(e),this.tracesOne=[e]},setTraceTwo:function(t,e){const o={x:Array.from(Array(t[0].length)).map(((t,e)=>e+1)),y:Array.from(Array(t.length)).map(((t,e)=>e+1)),z:t.map(((t,o)=>t.map(((t,n)=>{if(9===t)return null;{const t=this.pointToBasin[`${n},${o}`];return e[t]}})))),type:"heatmap",colorscale:[[0,"#1B1464"],[1,"#12CBC4"]]};Object.freeze(o),this.tracesTwo=[o]},calcBasinSize:function(t,e,o,n){o.push(`${e.x},${e.y}`),this.pointToBasin[`${e.x},${e.y}`]=n;const r=this.neighbors(t,e.x,e.y).filter((n=>-1===o.indexOf(`${n.x},${n.y}`)&&(t[n.y][n.x]>t[e.y][e.x]&&t[n.y][n.x]<9)));let s=1;return r.forEach((e=>{-1===o.indexOf(`${e.x},${e.y}`)&&(s+=this.calcBasinSize(t,e,o,n))})),s},neighbors:function(t,e,o){const n=[];return e>0&&n.push({x:e-1,y:o}),e<t[o].length-1&&n.push({x:e+1,y:o}),o>0&&n.push({x:e,y:o-1}),o<t.length-1&&n.push({x:e,y:o+1}),n},plotGrid:function(){this.$nextTick((()=>{this.$plotly.newPlot("partOne",this.tracesOne,this.layout,{responsive:!0,displaylogo:!1})}))},plotBasins:function(){this.$nextTick((()=>{this.$plotly.newPlot("partTwo",this.tracesTwo,this.layout,{responsive:!0,displaylogo:!1})}))}}},l=i,c=o(1001),h=(0,c.Z)(l,n,r,!1,null,null,null),p=h.exports}}]);
//# sourceMappingURL=8611.3b77dfdb.js.map