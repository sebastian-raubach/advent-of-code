"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[1125],{93658:function(t,s,i){i.r(s),i.d(s,{default:function(){return $}});var e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("Day",{attrs:{day:18,year:2017,solutions:t.solutions},on:{"input-changed":t.onInputChanged}})},n=[],u=i(86889);class h{constructor(t,s){this.$id=t,this.$inst=s,this.init()}setLink(t){this.$link=t}isStuck(){return this.$queue.length<1||this.$finished}isFinished(){return this.$finished}getSendCount(){return this.$sendCount}init(){this.$index=0,this.$registers={p:this.$id},this.$queue=[],this.$stuck=!1,this.$finished=!1,this.$sendCount=0,this.$instructions={snd:(t,s,i)=>{const e=this.resolve(t,s);this.$sendCount++,this.$link?this.$link.receive(e):this.$queue=[e]},set:(t,s,i)=>{t[s]=this.resolve(t,i)},add:(t,s,i)=>{t[s]+=this.resolve(t,i)},mul:(t,s,i)=>{t[s]*=this.resolve(t,i)},mod:(t,s,i)=>{t[s]%=this.resolve(t,i)},rcv:(t,s,i)=>this.$queue.length>0?(t[s]=this.$queue.shift(),this.$stuck=!1,t[s]):(this.$stuck=!0,null),jgz:(t,s,i)=>this.resolve(t,s)>0?this.resolve(t,i):0}}resolve(t,s){return isNaN(s)?s in t?t[s]:(t[s]=0,0):+s}receive(t){this.$queue.push(t)}run(){while(1){const t=this.$inst[this.$index];isNaN(t.reg)&&!(t.reg in this.$registers)&&(this.$registers[t.reg]=0);const s=this.$instructions[t.inst](this.$registers,t.reg,t.value);if(this.$stuck)return null;if("rcv"===t.inst&&null!==s)return this.$index++,s;if("jgz"===t.inst&&0!==s)this.$index+=s;else if(this.$index++,this.$index>=this.$inst.length)return void(this.$finished=!0)}}}var r={components:{Day:u.Z},data:function(){return{solutions:{partOne:null,partTwo:null}}},methods:{onInputChanged:function(t){const s=t.map((t=>{const s=t.split(" ");return{inst:s[0],reg:s[1],value:s.length>2?s[2]:null}}));let i=new h(0,s);this.solutions.partOne=i.run(),i=new h(0,s);const e=new h(1,s);i.setLink(e),e.setLink(i);do{i.isFinished()||i.run(),e.isFinished()||e.run()}while(!i.isStuck()||!e.isStuck());this.solutions.partTwo=e.getSendCount()}}},o=r,l=i(1001),d=(0,l.Z)(o,e,n,!1,null,"40fe69c3",null),$=d.exports}}]);
//# sourceMappingURL=1125.585ca551.js.map