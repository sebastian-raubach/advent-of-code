"use strict";(self["webpackChunkadvent_of_code"]=self["webpackChunkadvent_of_code"]||[]).push([[8356],{32183:function(t,i,s){s.r(i),s.d(i,{default:function(){return d}});var r=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("Day",{attrs:{day:20,year:2020,solutions:t.solutions},on:{"input-changed":t.onInputChanged},scopedSlots:t._u([{key:"partTwo",fn:function(){return[s("pre",{staticClass:"day-20-code border"},[s("code",{domProps:{innerHTML:t._s(t.gridTwo)}}),t._v("\n      ")])]},proxy:!0}])})},e=[],n=s(86889);class h{constructor(t){this.$grid=t}getFormattedGrid(){let t="";for(let i=0;i<this.$grid.length;i++){for(let s=0;s<this.$grid[i].length;s++)"O"===this.$grid[i][s]?t+='<span class="day-20-monster">O</span>':t+=this.$grid[i][s];t+="<br/>"}return t}}var a={components:{Day:n.Z},data:function(){return{solutions:{partOne:null,partTwo:null},gridTwo:null}},methods:{onInputChanged:function(t){let i;this.gridTwo=null,this.parts=[];let s=[];t.forEach((t=>{""===t?(this.parts.push({id:i,part:s}),i=null,s=[]):t.includes("Tile ")?i=+t.replace(/\D/g,""):s.push(t.split("").map((t=>"#"===t)))})),null!==i&&this.parts.push({id:i,part:s}),this.width=Math.sqrt(this.parts.length),this.solvePartOne(),this.solvePartTwo()},rotateRight:function(t){return t[0].map(((i,s)=>t.map((t=>t[s])).reverse()))},flip:function(t){return t.map((t=>t.map(((i,s)=>t[s])).reverse()))},expand:function(t){const i=[];return t.forEach((t=>{const s=t.part,r=this.rotateRight(s),e=this.rotateRight(r),n=this.rotateRight(e),h=this.flip(s),a=this.flip(r),o=this.flip(e),l=this.flip(n);i.push({id:t.id,part:s}),i.push({id:t.id,part:r}),i.push({id:t.id,part:e}),i.push({id:t.id,part:n}),i.push({id:t.id,part:h}),i.push({id:t.id,part:a}),i.push({id:t.id,part:o}),i.push({id:t.id,part:l})})),this.matches={},i.forEach((t=>{const s=i.filter((i=>this.match(t.part,i.part,"left")||this.match(t.part,i.part,"top")||this.match(t.part,i.part,"bottom")||this.match(t.part,i.part,"right"))).map((t=>t.id));this.matches[t.id]||(this.matches[t.id]=new Set),s.filter((i=>i!==t.id)).forEach((i=>this.matches[t.id].add(i)))})),i},recurse:function(t,i,s,r){const e=s%this.width,n=Math.floor(s/this.width);if(s===this.parts.length)return i;const h=e>0?i[s-1]:null,a=n>0?i[s-this.width]:null,o=t.filter((t=>-1===r.indexOf(t.id)));for(let l=0;l<o.length;l++){const e=o[l];if((!h||this.matches[h.id].has(e.id)&&this.match(h.part,e.part,"right"))&&(!a||this.matches[a.id].has(e.id)&&this.match(a.part,e.part,"bottom"))){const n=i.concat(),h=r.concat();n.push(e),h.push(e.id);const a=this.recurse(t,n,s+1,h);if(null!==a)return a}}return null},match:function(t,i,s){switch(s){case"bottom":return JSON.stringify(t[t.length-1])===JSON.stringify(i[0]);case"top":return JSON.stringify(t[0])===JSON.stringify(i[i.length-1]);case"right":return JSON.stringify(t.map((t=>t[t.length-1])))===JSON.stringify(i.map((t=>t[0])));case"left":return JSON.stringify(t.map((t=>t[0])))===JSON.stringify(i.map((t=>t[t.length-1])))}},replaceAll:function(t,i){let s=0;return t.forEach(((r,e)=>{r.forEach(((r,n)=>{const h=i.filter((i=>void 0!==t[e+i[0]]&&"#"===t[e+i[0]][n+i[1]])).length===i.length;h&&i.forEach((i=>{t[e+i[0]][n+i[1]]="O",s++}))}))})),s>0},solvePartOne:function(){const t=this.expand(this.parts);this.usedParts=this.recurse(t,[],0,[]),this.solutions.partOne=this.usedParts[0].id*this.usedParts[this.width-1].id*this.usedParts[this.usedParts.length-1].id*this.usedParts[this.usedParts.length-this.width].id},solvePartTwo:function(){const t=this.usedParts.map((t=>t.part.filter(((i,s)=>0!==s&&s!==t.part.length-1)).map((t=>(t.shift(),t.pop(),t.map((t=>t?"#":".")).join("")))))),i=[];for(let n=0;n<this.width;n++)for(let s=0;s<this.width;s++){const r=t[n*this.width+s];for(let t=0;t<r.length;t++){const s=8*n+t;i.length<=s&&i.push(""),i[s]=i[s]+r[t]}}const s=i.map((t=>t.split(""))),r=this.expand([{id:null,part:s}]),e=[[0,18],[1,0],[1,5],[1,6],[1,11],[1,12],[1,17],[1,18],[1,19],[2,1],[2,4],[2,7],[2,10],[2,13],[2,16]];r.forEach((t=>{const i=t.part;if(this.replaceAll(i,e)){const t=i.map((t=>t.filter((t=>"#"===t)).length)).reduce(((t,i)=>t+i));this.gridTwo=new h(i).getFormattedGrid(),this.solutions.partTwo=t}}))}}},o=a,l=s(1001),p=(0,l.Z)(o,r,e,!1,null,null,null),d=p.exports}}]);
//# sourceMappingURL=8356.65e53556.js.map