{"version":3,"sources":["webpack:///./src/components/2021/Day11.vue?c318","webpack:///src/components/2021/Day11.vue","webpack:///./src/components/2021/Day11.vue?2038","webpack:///./src/components/2021/Day11.vue?ccf2","webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/2021/Day11.vue?e2e7","webpack:///./node_modules/core-js/modules/es.symbol.iterator.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./node_modules/core-js/modules/es.symbol.description.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","solutions","on","onInputChanged","scopedSlots","_u","key","fn","staticClass","proxy","staticRenderFns","components","Day","data","partOne","partTwo","ns","grids","round","methods","grid","forEach","queue","length","gridCell","flashed","roundFlashes","nbc","v","push","n","Object","freeze","flashMap","i","totalFlashes","getNeighbors","map","x","dx","y","dy","draw","ctx","clearRect","fillStyle","gradient","fillRect","setTimeout","component","_typeof","obj","Symbol","iterator","constructor","prototype","defineWellKnownSymbol","$","$map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","undefined","DESCRIPTORS","global","uncurryThis","hasOwn","isCallable","isPrototypeOf","toString","defineProperty","f","copyConstructorProperties","NativeSymbol","SymbolPrototype","description","EmptyStringDescriptionStore","SymbolWrapper","result","NATIVE_SYMBOL","String","symbolToString","symbolValueOf","valueOf","regexp","replace","stringSlice","slice","configurable","get","symbol","string","desc"],"mappings":"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","file":"js/chunk-0b4c0dcc.84f6bc94.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Day',{attrs:{\"day\":11,\"year\":2021,\"solutions\":_vm.solutions},on:{\"input-changed\":_vm.onInputChanged},scopedSlots:_vm._u([{key:\"partTwo\",fn:function(){return [_c('div',{staticClass:\"canvas-holder\"},[_c('canvas',{staticClass:\"canvas\",attrs:{\"id\":\"partTwo\",\"width\":\"518\",\"height\":\"518\"}})])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <Day :day=\"11\" :year=\"2021\" :solutions=\"solutions\" @input-changed=\"onInputChanged\">\n    <template v-slot:partTwo>\n      <div class=\"canvas-holder\">\n        <canvas id=\"partTwo\" class=\"canvas\" width=\"518\" height=\"518\" />\n      </div>\n    </template>\n  </Day>\n</template>\n\n<script>\nimport Day from '@/components/Day'\n\nexport default {\n  components: {\n    Day\n  },\n  data: function () {\n    return {\n      solutions: {\n        partOne: null,\n        partTwo: null\n      },\n      ns: [[-1, -1], [0, -1], [1, -1], [-1, 0], [1, 0], [-1, 1], [0, 1], [1, 1]],\n      grids: [],\n      round: 0\n    }\n  },\n  methods: {\n    onInputChanged: function (input) {\n      const grid = input.map(r => r.split('').map(c => {\n        return {\n          v: +c,\n          flashed: false\n        }\n      }))\n\n      // Total flash counter\n      let totalFlashes = 0\n      // Current round index\n      let i = 0\n      while (true) {\n        // Keep track of the ones that have flashed and need to increase their neighbors\n        const queue = []\n\n        grid.forEach((r, y) => r.forEach((c, x) => {\n          // Increase first\n          c.v++\n\n          // If they'll flash, add to queue\n          if (c.v > 9) {\n            queue.push({ x: x, y: y })\n          }\n        }))\n\n        let roundFlashes = 0\n        // Now go through the queue while there are still ones that have to flash\n        while (queue.length > 0) {\n          // Get the next one\n          const next = queue.shift()\n          // Get the corresponding grid cell\n          const gridCell = grid[next.y][next.x]\n          // If it hasn't flashed yet (it may be in the queue multiple times)\n          if (!gridCell.flashed) {\n            // Flash\n            gridCell.flashed = true\n            roundFlashes++\n\n            // Increment all neighbors\n            this.getNeighbors(next.x, next.y).forEach(n => {\n              const nbc = grid[n.y][n.x]\n              if (!nbc.flashed) {\n                nbc.v++\n\n                if (nbc.v > 9) {\n                  queue.push(n)\n                }\n              }\n            })\n          }\n        }\n\n        const flashMap = grid.map(r => r.map(c => Math.min(9, c.v)))\n        Object.freeze(flashMap)\n        this.grids.push(flashMap)\n\n        // Reset each flashed node\n        grid.forEach(r => r.forEach(c => {\n          c.flashed = false\n          if (c.v > 9) {\n            c.v = 0\n          }\n        }))\n\n        // Increment\n        i++\n        totalFlashes += roundFlashes\n\n        if (i === 100) {\n          // Found solution one after 100 iterations\n          this.solutions.partOne = totalFlashes\n        }\n        if (roundFlashes === 100) {\n          // Found solution two after all have flashed in the same round\n          this.solutions.partTwo = i\n\n          this.$nextTick(() => window.requestAnimationFrame(this.draw))\n\n          return\n        }\n      }\n    },\n    getNeighbors: function (x, y) {\n      // Create all possible neighbors, then filter out invalid ones\n      return this.ns.map(n => {\n        const dx = x + n[0]\n        const dy = y + n[1]\n\n        return {\n          x: dx,\n          y: dy\n        }\n      }).filter(n => {\n        return n.x >= 0 && n.x < 10 && n.y >= 0 && n.y < 10\n      })\n    },\n    draw: function () {\n      const ctx = document.getElementById('partTwo').getContext('2d')\n      ctx.clearRect(0, 0, 518, 518)\n      const gradient = this.createColorGradient('#C4E538', '#006266', 10)\n\n      const grid = this.grids[this.round]\n      for (let y = 0; y < 10; y++) {\n        for (let x = 0; x < 10; x++) {\n          ctx.fillStyle = gradient[grid[y][x]]\n          ctx.fillRect(x * 50, y * 50, 50, 50)\n        }\n      }\n\n      this.round = (this.round + 1) % this.grids.length\n\n      setTimeout(() => window.requestAnimationFrame(this.draw), 100)\n    }\n  }\n}\n</script>\n\n<style scoped>\n.canvas-holder {\n  overflow: auto;\n  height: 522px;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Day11.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Day11.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Day11.vue?vue&type=template&id=544d7611&scoped=true&\"\nimport script from \"./Day11.vue?vue&type=script&lang=js&\"\nexport * from \"./Day11.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Day11.vue?vue&type=style&index=0&id=544d7611&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"544d7611\",\n  null\n  \n)\n\nexport default component.exports","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Day11.vue?vue&type=style&index=0&id=544d7611&scoped=true&lang=css&\"","var defineWellKnownSymbol = require('../internals/define-well-known-symbol');\n\n// `Symbol.iterator` well-known symbol\n// https://tc39.es/ecma262/#sec-symbol.iterator\ndefineWellKnownSymbol('iterator');\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// `Symbol.prototype.description` getter\n// https://tc39.es/ecma262/#sec-symbol.prototype.description\n'use strict';\nvar $ = require('../internals/export');\nvar DESCRIPTORS = require('../internals/descriptors');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar hasOwn = require('../internals/has-own-property');\nvar isCallable = require('../internals/is-callable');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar toString = require('../internals/to-string');\nvar defineProperty = require('../internals/object-define-property').f;\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\n\nvar NativeSymbol = global.Symbol;\nvar SymbolPrototype = NativeSymbol && NativeSymbol.prototype;\n\nif (DESCRIPTORS && isCallable(NativeSymbol) && (!('description' in SymbolPrototype) ||\n  // Safari 12 bug\n  NativeSymbol().description !== undefined\n)) {\n  var EmptyStringDescriptionStore = {};\n  // wrap Symbol constructor for correct work with undefined description\n  var SymbolWrapper = function Symbol() {\n    var description = arguments.length < 1 || arguments[0] === undefined ? undefined : toString(arguments[0]);\n    var result = isPrototypeOf(SymbolPrototype, this)\n      ? new NativeSymbol(description)\n      // in Edge 13, String(Symbol(undefined)) === 'Symbol(undefined)'\n      : description === undefined ? NativeSymbol() : NativeSymbol(description);\n    if (description === '') EmptyStringDescriptionStore[result] = true;\n    return result;\n  };\n\n  copyConstructorProperties(SymbolWrapper, NativeSymbol);\n  SymbolWrapper.prototype = SymbolPrototype;\n  SymbolPrototype.constructor = SymbolWrapper;\n\n  var NATIVE_SYMBOL = String(NativeSymbol('test')) == 'Symbol(test)';\n  var symbolToString = uncurryThis(SymbolPrototype.toString);\n  var symbolValueOf = uncurryThis(SymbolPrototype.valueOf);\n  var regexp = /^Symbol\\((.*)\\)[^)]+$/;\n  var replace = uncurryThis(''.replace);\n  var stringSlice = uncurryThis(''.slice);\n\n  defineProperty(SymbolPrototype, 'description', {\n    configurable: true,\n    get: function description() {\n      var symbol = symbolValueOf(this);\n      var string = symbolToString(symbol);\n      if (hasOwn(EmptyStringDescriptionStore, symbol)) return '';\n      var desc = NATIVE_SYMBOL ? stringSlice(string, 7, -1) : replace(string, regexp, '$1');\n      return desc === '' ? undefined : desc;\n    }\n  });\n\n  $({ global: true, forced: true }, {\n    Symbol: SymbolWrapper\n  });\n}\n"],"sourceRoot":""}